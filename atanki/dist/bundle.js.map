{"version":3,"sources":["webpack:///webpack/bootstrap cd139b0d6064eaba294d","webpack:///./app/main.ts","webpack:///./app/type-script/vector2d.ts","webpack:///./app/type-script/utils.ts","webpack:///./app/type-script/tank.ts","webpack:///./app/type-script/box.ts","webpack:///./app/type-script/camera.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd139b0d6064eaba294d","import Vector2d from \"./type-script/vector2d\";\nimport Utils from \"./type-script/utils\";\nimport Tank from \"./type-script/tank\";\nimport Box from \"./type-script/box\";\nimport Camera from \"./type-script/camera\";\n\nlet canvas = document.getElementById(\"canvas\");\nlet\tcontext = (<any> canvas).getContext(\"2d\");\nlet\tmouse = Utils.captureMouse((<any> canvas));\nlet\tkeyboard = Utils.captureKeyboard((<any> window));\nlet\tlog = document.getElementById(\"log\");\nlet\ttank = new Tank(30, 70);\nlet\ttank2 = new Tank(-10, 20);\nlet\tbox = new Box();\nlet\tcam = new Camera();\n\nlet camTarget = new Vector2d((<any> canvas).width / 2, (<any> canvas).height / 2);\nlet\teasing = 0.08;\n\n\n(function drawFrame() {\n\t(<any> window).requestAnimationFrame(drawFrame, canvas);\n\t(<any> canvas).width = window.innerWidth;\n\t(<any> canvas).height = window.innerHeight;\n\n\ttank.player(keyboard, mouse, cam);\n\n\tcam.manipulation(keyboard, mouse);\n\n\tlet v = (tank.position.sub(camTarget)).mult(easing);\n\tcamTarget = camTarget.add(v);\n\n\tcam.focusing(canvas, camTarget);\n\n\n\tcontext.save();\n\n\tcam.draw(context);\n\n\tcontext.fillStyle = \"green\";\n\tcontext.fillRect(1, 1, 100, 100);\n\tcontext.fillRect(-432, -153, 100, 100);\n\tcontext.fillRect(-565, 300, 100, 100);\n\tcontext.fillRect(123, -215, 100, 100);\n\tcontext.fillRect(-133, 132, 100, 100);\n\n\ttank.color = Utils.HSBtoRGB(300, 75, 75);\n\ttank.draw(context);\n\t// tank2.draw(context);\n\ttank.drawHelp(context);\n\tbox.draw(context);\n\n\tcontext.restore();\n\n\t// context.fillStyle = \"red\";\n\t// context.fillRect((target.x)-5, (target.y), +5, +5);\n\t// context.fillStyle = \"red\";\n\t// context.fillRect((target2.x)-5, (target2.y)-5, +5, +5);\n\n\t(<any> log).value = null;\n\n\t(<any> log).value += \"--- canvas ---\" + \"\\n\";\n\t(<any> log).value += \"cam \" + cam.toString() + \"\\n\";\n\n\n\t(<any> log).value += \"--- tank ---\" + \"\\n\";\n\t(<any> log).value += \"tank \" + tank.toString() + \"\\n\";\n\n})();\n\n\n// WEBPACK FOOTER //\n// ./app/main.ts","export default class Vector2d {\r\n\r\n\t/**\r\n\t * fromAngle\r\n\t * Return new vector, from an angle\r\n\t */\r\n\tpublic static fromAngle(angle) {\r\n\t\treturn new Vector2d(Math.cos(angle), Math.sin(angle));\r\n\t}\r\n\t/**\r\n\t * angleTo\r\n\t * Return new vector, to angle, maybe?\r\n\t */\r\n\tpublic static angleTo(vec1: any, vec2: any) {\r\n\t\treturn Math.atan2((vec1.y - vec2.y), (vec1.x - vec2.x));\r\n\t}\r\n\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\r\n\tconstructor(x?, y?) {\r\n\t\tthis.x = x || 0;\r\n\t\tthis.y = y || 0;\r\n\t}\r\n\r\n\t/**\r\n\t * .set()\r\n\t * Modifies, return set the components of the vector\r\n\t * with black magic\r\n\t */\r\n\tpublic set(vec: Vector2d): Vector2d;\r\n\tpublic set(x: number, y: number): Vector2d;\r\n\r\n\tpublic set(xOrVec: any, y?: number): any {\r\n\t\tif (typeof xOrVec === \"object\") {\r\n\t\t\tthis.x = xOrVec.x;\r\n\t\t\tthis.y = xOrVec.y;\r\n\t\t} else if (typeof xOrVec === \"number\" && typeof y === \"number\") {\r\n\t\t\tthis.x = xOrVec;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * .setZero()\r\n\t * Modifies, return vector with zero coordinates\r\n\t */\r\n\tpublic setZero(): Vector2d {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * .copy()\r\n\t * Return new vector, copy of the vector\r\n\t */\r\n\tpublic copy(): Vector2d {\r\n\t\treturn new Vector2d(this.x, this.y);\r\n\t}\r\n\r\n\t/**\r\n\t * .mag()\r\n\t * Return scalar, the magnitude of the vector\r\n\t */\r\n\tpublic mag(): number {\r\n\t\treturn (Math.sqrt(\r\n\t\t\t(this.x * this.x) +\r\n\t\t\t(this.y * this.y),\r\n\t\t));\r\n\t}\r\n\r\n\t/**\r\n\t * .magSq()\r\n\t * Return scalar, the magnitude of the vector, squared\r\n\t */\r\n\tpublic magSq(): number {\r\n\t\treturn ((this.x * this.x) + (this.y * this.y));\r\n\t}\r\n\r\n\t/**\r\n\t * .add(vec)\r\n\t * Modifies, return adds one vector to another\r\n\t */\r\n\tpublic add(vec: Vector2d): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x + vec.x),\r\n\t\t\t(this.y + vec.y),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * .sub(vec)\r\n\t * Modifies, return subs one vector from another\r\n\t */\r\n\tpublic sub(vec: Vector2d): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x - vec.x),\r\n\t\t\t(this.y - vec.y),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * .mult()\r\n\t * Modifies, return multiplies a vector by a scalar\r\n\t */\r\n\tpublic mult(scalar: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x * scalar),\r\n\t\t\t(this.y * scalar),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * .div()\r\n\t * Modifies, return divide a vector by a scalar\r\n\t */\r\n\tpublic div(scalar: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x / scalar),\r\n\t\t\t(this.y / scalar),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * .dist()\r\n\t * Return scalar, the distance between two points\r\n\t */\r\n\tpublic dist(vec: Vector2d): number {\r\n\t\treturn Math.sqrt(\r\n\t\t\tMath.pow(this.x - vec.x, 2) +\r\n\t\t\tMath.pow(this.y - vec.y, 2),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * .dot()\r\n\t * Return scalar, the dot product of two vectors\r\n\t */\r\n\tpublic dot(vec: Vector2d): number {\r\n\t\treturn (this.x * vec.x) + (this.y * vec.y);\r\n\t}\r\n\r\n\t/**\r\n\t * .normalize()\r\n\t * Modifies, return normalize the vector to a length of 1\r\n\t */\r\n\tpublic normalize(): Vector2d {\r\n\t\treturn this.div(this.mag());\r\n\t}\r\n\r\n\t/**\r\n\t * .limit()\r\n\t * Modifies, return limit the magnitude of the vector\r\n\t */\r\n\tpublic limit(scalar: number): Vector2d {\r\n\t\tif (this.magSq() > scalar * scalar) {\r\n\t\t\tthis.normalize().mult(scalar);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * .setMag()\r\n\t * Modifies, return set the magnitude of the vector\r\n\t */\r\n\tpublic setMag(scalar: number): Vector2d {\r\n\t\treturn this.normalize().mult(scalar);\r\n\t}\r\n\r\n\t/**\r\n\t * .heading()\r\n\t * Return angle of rotation for this vector\r\n\t */\r\n\tpublic heading():number {\r\n\t\treturn Math.atan2(this.y, this.x);\r\n\t}\r\n\r\n\t/**\r\n\t * .rotate()\r\n\t * Modifies, return rotate the vector by an angle\r\n\t */\r\n\tpublic rotate(angle: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x * Math.cos(angle)) - (this.y * Math.sin(angle)),\r\n\t\t\t(this.x * Math.sin(angle)) + (this.y * Math.cos(angle)),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * .lerp()\r\n\t * Modifies, return linear interpolate the vector to another vector\r\n\t */\r\n\tpublic lerp(vec: Vector2d, amount: number): Vector2d {\r\n\t\tif (amount > 1) { amount = 1; }\r\n\t\tif (amount < 0) { amount = 0; }\r\n\t\treturn this.mult(amount).add(vec.copy().mult(1 - amount));\r\n\t}\r\n\r\n\t/**\r\n\t * invert()\r\n\t * Modifies, return inverted vector direction\r\n\t */\r\n\tpublic invert(): Vector2d {\r\n\t\tlet x = this.x * -1;\r\n\t\tlet y = this.y * -1;\r\n\t\treturn new Vector2d(x, y);\r\n\t}\r\n\r\n\t/**\r\n\t * positioning\r\n\t * something to do with the camera\r\n\t */\r\n\tpublic positioning(camera): Vector2d {\r\n\t\treturn this.invert().rotate(camera.rotation).mult(camera.zoom).add(camera.focus);\r\n\t}\r\n\r\n\t/**\r\n\t * toArray\r\n\t */\r\n\tpublic toArray(): number[] {\r\n\t\treturn [this.x, this.y];\r\n\t}\r\n\r\n\t/**\r\n\t * toString\r\n\t */\r\n\tpublic toString(): string {\r\n\t\treturn \"x:\" +\r\n\t\t\tthis.x.toFixed(2) +\r\n\t\t\t\", y:\" +\r\n\t\t\tthis.y.toFixed(2) +\r\n\t\t\t\"\\n\";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/vector2d.ts","import Vector2d from \"./vector2d\";\r\n\r\nexport default class Utils {\r\n\tpublic static captureMouse(element: HTMLAnchorElement) {\r\n\t\tlet mouse = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tLButton: { code: 0, pressed: false },\r\n\t\t\tRButton: { code: 2, pressed: false },\r\n\t\t\tMButton: { code: 1, pressed: false },\r\n\t\t\tWheelUp: {\r\n\t\t\t\tclick: false,\r\n\t\t\t\tget pressed() {\r\n\t\t\t\t\tif (this.click) {\r\n\t\t\t\t\t\tthis.click = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tWheelDown: {\r\n\t\t\t\tclick: false,\r\n\t\t\t\tget pressed() {\r\n\t\t\t\t\tif (this.click) {\r\n\t\t\t\t\t\tthis.click = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\telement.oncontextmenu = function (a) {\r\n\t\t\ta.preventDefault();\r\n\t\t};\r\n\r\n\t\telement.addEventListener('mousemove', function (event) {\r\n\t\t\tlet x, y;\r\n\t\t\tlet mouse_event = eventPositionCapture(x, y, event, element);\r\n\t\t\tmouse.x = mouse_event.x;\r\n\t\t\tmouse.y = mouse_event.y;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('mousedown', function (event) {\r\n\t\t\tlet name;\r\n\t\t\tfor (name in mouse) {\r\n\t\t\t\tif (mouse.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (mouse[name].code === event.button) {\r\n\t\t\t\t\t\tmouse[name].pressed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('mouseup', function (event) {\r\n\t\t\tlet buttonName;\r\n\t\t\tfor (let name in mouse) {\r\n\t\t\t\tif (mouse.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (mouse[name].code === event.button) {\r\n\t\t\t\t\t\tmouse[name].pressed = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('wheel', function (event) {\r\n\t\t\tif (event.deltaY < 0) {\r\n\t\t\t\tmouse[\"WheelUp\"].click = true;\r\n\t\t\t} else {\r\n\t\t\t\tmouse[\"WheelDown\"].click = true;\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\treturn mouse;\r\n\t};\r\n\r\n\tpublic static captureTouch(element: HTMLAnchorElement) {\r\n\t\tlet touch = { x: null, y: null, isPressed: false };\r\n\r\n\t\telement.addEventListener('touchstart', function (event) {\r\n\t\t\ttouch.isPressed = true;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('touchend', function (event) {\r\n\t\t\ttouch.isPressed = false;\r\n\t\t\ttouch.x = null;\r\n\t\t\ttouch.y = null;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('touchmove', function (event) {\r\n\t\t\tlet x, y;\r\n\t\t\tlet touch_event = eventPositionCapture(x, y, event.touches[0], element);\r\n\t\t\ttouch.x = touch_event.x;\r\n\t\t\ttouch.y = touch_event.y;\r\n\t\t}, false);\r\n\r\n\t\treturn touch;\r\n\t}\r\n\r\n\tpublic static captureKeyboard(element: HTMLAnchorElement) {\r\n\t\tlet key = {\r\n\t\t\tleft: { code: 37, pressed: false },\r\n\t\t\tright: { code: 39, pressed: false },\r\n\t\t\tup: { code: 38, pressed: false },\r\n\t\t\tdown: { code: 40, pressed: false },\r\n\t\t\tw: { code: 87, pressed: false },\r\n\t\t\ta: { code: 65, pressed: false },\r\n\t\t\ts: { code: 83, pressed: false },\r\n\t\t\td: { code: 68, pressed: false },\r\n\t\t\te: { code: 69, pressed: false },\r\n\t\t\tq: { code: 81, pressed: false },\r\n\t\t\tNumpadAdd: { code: 107, pressed: false },\r\n\t\t\tNumpadSub: { code: 109, pressed: false }\r\n\t\t};\r\n\r\n\t\telement.addEventListener(\"keydown\", function (event) {\r\n\t\t\tlet name;\r\n\t\t\tfor (name in key) {\r\n\t\t\t\tif (key.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (key[name].code === event.keyCode) {\r\n\t\t\t\t\t\tkey[name].pressed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener(\"keyup\", function (event) {\r\n\t\t\tvar name;\r\n\t\t\tfor (name in key) {\r\n\t\t\t\tif (key.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (key[name].code === event.keyCode) {\r\n\t\t\t\t\t\tkey[name].pressed = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\t// do we realy need this method?\r\n\tpublic static colorToRGB(color, alpha) {\r\n\t\tif (typeof color === 'string' && color[0] === '#') {\r\n\t\t\tcolor = parseInt(color.slice(1), 16);\r\n\t\t}\r\n\t\talpha = (alpha === undefined) ? 1 : alpha;\r\n\r\n\t\tlet r = color >> 16 & 0xff;\r\n\t\tlet g = color >> 8 & 0xff;\r\n\t\tlet b = color & 0xff;\r\n\t\tlet a = (alpha < 0) ? 0 : ((alpha > 1) ? 1 : alpha);\r\n\r\n\t\tif (a === 1) {\r\n\t\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n\t\t} else {\r\n\t\t\treturn \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Convert HSB color into string \"rgb(r,g,b)\"\r\n\t *\r\n\t * @param {number} hue in degrees (from 0 to 360)\r\n\t * @param {number} saturation in percent (from 0 to 100)\r\n\t * @param {number} brightness in percent (from 0 to 100)\r\n\t * @param {boolean} radians if true, used hue in radians\r\n\t * @return {string} color string \"rgb(r,g,b)\"\r\n\t */\r\n\tpublic static HSBtoRGB(hue?, saturation?, brightness?, radians?) {\r\n\t\tif (hue === undefined) { hue = 0; }\r\n\t\tif (saturation === undefined) { saturation = 75; }\r\n\t\tif (brightness === undefined) { brightness = 75; }\r\n\t\tif (radians === undefined) { radians = false; }\r\n\r\n\t\tif (radians) { hue *= 180 / Math.PI; }\r\n\t\tlet HSB = {\r\n\t\t\th: hue % 360,\r\n\t\t\ts: saturation / 100,\r\n\t\t\tb: brightness / 100\r\n\t\t};\r\n\t\tlet RGB = {\r\n\t\t\tr: null,\r\n\t\t\tg: null,\r\n\t\t\tb: null,\r\n\t\t\tcolor: function () {\r\n\t\t\t\treturn \"rgb(\" + Math.round(this.r) +\r\n\t\t\t\t\t\",\" + Math.round(this.g) +\r\n\t\t\t\t\t\",\" + Math.round(this.b) + \")\";\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet chroma;\r\n\t\tlet hueI;\r\n\t\tlet x;\r\n\t\tlet m;\r\n\r\n\t\tif (HSB.h < 0) {\r\n\t\t\tHSB.h += 360;\r\n\t\t}\r\n\t\tif (HSB.s > 100) {\r\n\t\t\tHSB.s = 100;\r\n\t\t} else if (HSB.s < 0) {\r\n\t\t\tHSB.s = 0;\r\n\t\t}\r\n\r\n\t\tif (HSB.b > 100) {\r\n\t\t\tHSB.b = 100;\r\n\t\t} else if (HSB.b < 0) {\r\n\t\t\tHSB.b = 0;\r\n\t\t}\r\n\r\n\t\tchroma = HSB.s * HSB.b;\r\n\t\thueI = HSB.h / 60;\r\n\r\n\t\tx = chroma * (1 - Math.abs(hueI % 2 - 1));\r\n\t\tswitch (Math.floor(hueI)) {\r\n\t\t\tcase 0:\r\n\t\t\t\tRGB.r = chroma;\r\n\t\t\t\tRGB.g = x;\r\n\t\t\t\tRGB.b = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tRGB.r = x;\r\n\t\t\t\tRGB.g = chroma;\r\n\t\t\t\tRGB.b = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tRGB.r = 0;\r\n\t\t\t\tRGB.g = chroma;\r\n\t\t\t\tRGB.b = x;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tRGB.r = 0;\r\n\t\t\t\tRGB.g = x;\r\n\t\t\t\tRGB.b = chroma;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tRGB.r = x;\r\n\t\t\t\tRGB.g = 0;\r\n\t\t\t\tRGB.b = chroma;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tRGB.r = chroma;\r\n\t\t\t\tRGB.g = 0;\r\n\t\t\t\tRGB.b = x;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tm = HSB.b - chroma;\r\n\t\tRGB.r += m;\r\n\t\tRGB.g += m;\r\n\t\tRGB.b += m;\r\n\t\tRGB.r *= 255;\r\n\t\tRGB.g *= 255;\r\n\t\tRGB.b *= 255;\r\n\r\n\t\treturn RGB.color();\r\n\t}\r\n\r\n\t// public parseColor(color, toNumber) {\r\n\t// \tif (toNumber === true) {\r\n\t// \t\tif (typeof color === 'number') {\r\n\t// \t\t\treturn (color | 0); // chop off decimal\r\n\t// \t\t}\r\n\t// \t\tif (typeof color === 'string' && color[0] === '#') {\r\n\t// \t\t\tcolor = color.slice(1);\r\n\t// \t\t}\r\n\t// \t\treturn window.parseInt(color, 16);\r\n\t// \t} else {\r\n\t// \t\tif (typeof color === 'number') {\r\n\t// \t\t\t// make sure our hexadecimal number is padded out\r\n\t// \t\t\tcolor = '#' + ('00000' + (color | 0).toString(16)).substr(-6);\r\n\t// \t\t}\r\n\t// \t\treturn color;\r\n\t// \t}\r\n\t// }\r\n\r\n\tpublic static containsPoint(rect, x, y) {\r\n\t\treturn !(x < rect.x || x > rect.x + rect.width ||\r\n\t\t\ty < rect.y || y > rect.y + rect.height);\r\n\t}\r\n\r\n\tpublic static angleNormalize(angle) {\r\n\t\treturn Math.atan2(Math.sin(angle), Math.cos(angle));\r\n\t}\r\n}\r\n\r\n\r\nfunction eventPositionCapture(x, y, event, element) {\r\n\tif (event.pageX || event.pageY) {\t\t// он будет проверять каждый раз? O_o\r\n\t\tx = event.pageX;\r\n\t\ty = event.pageY;\r\n\t} else {\r\n\t\tx = event.clientX + document.body.scrollLeft +\r\n\t\t\tdocument.documentElement.scrollLeft;\r\n\t\ty = event.clientY + document.body.scrollTop +\r\n\t\t\tdocument.documentElement.scrollTop;\r\n\t}\r\n\tx -= element.offsetLeft;\r\n\ty -= element.offsetTop;\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/utils.ts","import Utils from \"./utils\";\r\nimport Vector2d from \"./vector2d\";\r\n\r\nexport default class Tank {\r\n\tpublic pull: Vector2d;\r\n\tpublic position: Vector2d = new Vector2d();\r\n\tpublic color = Utils.HSBtoRGB(360, 75, 75);\r\n\tpublic direction: Vector2d = new Vector2d();\r\n\r\n\tpublic rotation: number = 0;\r\n\tpublic speed: number = 5;\r\n\r\n\tpublic positionRotation: number = 0;\r\n\tpublic target: Vector2d = new Vector2d();\r\n\tpublic targetRotation: number = 0;\r\n\r\n\tpublic scaleX: number = 1;\r\n\tpublic scaleY: number = 1;\r\n\tpublic lineWidth: number = 2;\r\n\tpublic transparency: number = 1;\r\n\r\n\tconstructor(x?, y?) {\r\n\t\tthis.pull = new Vector2d(x, y) || new Vector2d();\r\n\t}\r\n\r\n\tpublic player(keyboard, mouse, camera) {\r\n\t\tthis.targetRotation = Vector2d.angleTo(\r\n\t\t\tthis.target.set(mouse),\r\n\t\t\tcamera.targeting(this.position)\r\n\t\t\t// this.position.mult(camera.zoom).rotate(camera.rotation).add(camera.position)\r\n\t\t) - camera.rotation;\r\n\r\n\t\tvar speed = 0;\r\n\t\tif (keyboard.up.pressed || keyboard.w.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(-Math.PI / 2 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.down.pressed || keyboard.s.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(Math.PI / 2 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.left.pressed || keyboard.a.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(Math.PI - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.right.pressed || keyboard.d.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(0 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tthis.direction = this.direction.normalize();\r\n\t\tthis.pull = this.pull.add(this.direction.mult(speed));\r\n\t\t// this.direction.setZero();\r\n\t}\r\n\r\n\tpublic draw(ctx) {\r\n\t\tlet gun = {\r\n\t\t\tLength: 30,\r\n\t\t\tWidth: 10,\r\n\t\t\tTurretRadius: 10\r\n\t\t};\r\n\t\tlet tank = {\r\n\t\t\tLength: 40,\r\n\t\t\tWidth: 30\r\n\t\t};\r\n\r\n\t\tthis.positionRotation = Vector2d.angleTo(this.pull, this.position);\r\n\t\tthis.position.x = this.pull.x - Math.cos(this.positionRotation) * 18;\r\n\t\tthis.position.y = this.pull.y - Math.sin(this.positionRotation) * 18;\r\n\r\n\t\tfunction tankPath(ctx) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(-tank.Length / 2, -tank.Width / 2, tank.Length, tank.Width);\r\n\t\t\tctx.moveTo(tank.Length / 2, 0);\r\n\t\t\tctx.lineTo(-tank.Length / 2, tank.Width / 2);\r\n\t\t\tctx.lineTo(-tank.Length / 2, -tank.Width / 2);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\r\n\t\tfunction gunPath(ctx) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(0, -gun.Width / 2, gun.Length, gun.Width);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(0, 0, gun.TurretRadius, 0, (Math.PI * 2), false);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(this.position.x, this.position.y);\r\n\t\tctx.rotate(this.rotation);\r\n\t\tctx.scale(this.scaleX, this.scaleY);\r\n\t\tctx.lineWidth = this.lineWidth;\r\n\t\tctx.lineJoin = \"round\";\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.fillStyle = this.color;\r\n\t\tctx.strokeStyle = \"#191919\";\r\n\t\tctx.globalAlpha = this.transparency;\r\n\r\n\t\tctx.save();\r\n\t\tctx.rotate(this.positionRotation);\r\n\t\ttankPath(ctx);\r\n\t\tctx.restore();\r\n\r\n\t\tctx.save();\r\n\t\tctx.rotate(this.targetRotation);\r\n\t\tgunPath(ctx);\r\n\t\tctx.restore();\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tpublic drawHelp(ctx) {\r\n\t\tlet scale = 1;\r\n\t\tctx.save();\r\n\r\n\t\tctx.translate(this.position.x, this.position.y);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.fillStyle = \"#ff0000\";\r\n\t\tctx.strokeStyle = \"#00ff00\";\r\n\t\tctx.scale(scale, scale);\r\n\r\n\t\tfunction pointDraw(rotation, positionX, positionY) {\r\n\t\t\tif (rotation === undefined) { rotation = 0; }\r\n\t\t\tif (positionX === undefined) { positionX = 0; }\r\n\t\t\tif (positionY === undefined) { positionY = 0; }\r\n\t\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rotate(rotation);\r\n\t\t\tctx.arc(positionX, positionY, 2, 0, (Math.PI * 2), false);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.fill();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tfunction arcAngleDraw(angle1, angle2, radius) {\r\n\t\t\tif (angle1 === undefined) { angle1 = 0; }\r\n\t\t\tif (angle2 === undefined) { angle2 = 0; }\r\n\t\t\tif (radius === undefined) { radius = 10; }\r\n\t\t\tangle1 = Utils.angleNormalize(angle1);\r\n\t\t\tangle2 = Utils.angleNormalize(angle2);\r\n\t\t\tvar difference = angle1 - angle2;\r\n\t\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\t/*\tif ((difference > 0 && difference < Math.PI) || difference < -Math.PI) {\r\n\t\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), false);\r\n\t\t\t\t}*/\r\n\t\t\tif (Math.sin(difference) > 0) {\r\n\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), true);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), false);\r\n\t\t\t}\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rotate(this.positionRotation);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(50, 0);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rotate(this.targetRotation);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(50, 0);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\r\n\r\n\t\t// pointDraw(this.targetRotation, 50);\r\n\t\t// pointDraw(this.positionRotation, 50);\r\n\t\t// pointDraw(0,this.moveX - this.x, this.moveY - this.y);\r\n\t\tarcAngleDraw(this.targetRotation, this.positionRotation, 50);\r\n\t\t// arcAngleDraw(this.targetRotation, 0, 42);\r\n\t\t// arcAngleDraw(this.positionRotation, 0, 40);\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tpublic toString() {\r\n\t\treturn \"position x:\" + this.position.x.toFixed(2) + \", y:\" + this.position.y.toFixed(2) + \"\\n\" +\r\n\t\t\t\"pull x:\" + this.pull.x.toFixed(2) + \", y:\" + this.pull.y.toFixed(2) + \"\\n\" +\r\n\t\t\t\"direction x:\" + this.direction.x.toFixed(2) + \", y:\" + this.direction.y.toFixed(2) + \"\\n\" +\r\n\t\t\t\"targetRotation \" + this.targetRotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"positionRotation \" + this.positionRotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"rotation: \" + this.rotation.toFixed(2) + \"\\n\";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/tank.ts","export default class Box {\r\n\r\n\tpublic x: number= 200;\r\n\tpublic y: number = 200;\r\n\tpublic angle: number;\r\n\tprivate size: any = { height: 45, width: 45};\r\n\tprivate color = \"#9C9C9C\";\r\n\r\n\tpublic draw(ctx) {\r\n\t\tctx.save();\r\n\t\tctx.translate(this.x, this.y);\r\n\t\tctx.rotate(this.angle);\r\n\t\tctx.scale(1, 1);\r\n\t\tctx.lineWidth = 3;\r\n\r\n\t\tctx.fillStyle = this.color;\r\n\t\tctx.strokeStyle = \"#2B2B2B\";\r\n\t\tctx.globalAlpha = 1;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(-this.size.height / 2, -this.size.width / 2, this.size.height, this.size.width);\r\n\r\n\t\tctx.moveTo(this.size.height / 2, this.size.width / 2);\r\n\t\tctx.lineTo(-this.size.height / 2, -this.size.width / 2);\r\n\r\n\t\tctx.moveTo(-this.size.height / 2, this.size.width / 2);\r\n\t\tctx.lineTo(this.size.height / 2, -this.size.width / 2);\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\r\n\t\tctx.restore();\r\n\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/box.ts","import Vector2d from \"./vector2d\";\r\n\r\nexport default class Camera {\r\n\tpublic position: Vector2d;\r\n\tpublic zoom;\r\n\tpublic rotation;\r\n\tpublic focus: Vector2d;\r\n\r\n\tconstructor(position?, zoom?, rotation?) {\r\n\t\tthis.position = position || new Vector2d();\r\n\t\tthis.zoom     = zoom     || 1;\r\n\t\tthis.rotation = rotation || 0;\r\n\t\tthis.focus    = new Vector2d();\r\n\t}\r\n\r\n\t/**\r\n\t * targeting\r\n\t */\r\n\tpublic targeting(target: Vector2d) {\r\n\t\treturn target.mult(this.zoom).rotate(this.rotation).add(this.position);\r\n\t}\r\n\r\n\t/**\r\n\t * manipulation\r\n\t */\r\n\tpublic manipulation(keyboard, mouse) {\r\n\t\tif (keyboard.NumpadAdd.pressed || mouse.WheelUp.pressed) { this.zoom *= 1.1; }\r\n\t\tif (keyboard.NumpadSub.pressed || mouse.WheelDown.pressed) { this.zoom /= 1.1; }\r\n\r\n\t\tif (keyboard.e.pressed) { this.rotation -= 0.1; }\r\n\t\tif (keyboard.q.pressed) { this.rotation += 0.1; }\r\n\t}\r\n\r\n\tpublic focusing(canvas?: any, focus?: Vector2d) {\r\n\t\tif (focus === undefined) {\r\n\t\t\tfocus = new Vector2d();\r\n\t\t}\r\n\t\tthis.focus.set(canvas.width / 2, canvas.height / 2);\r\n\r\n\t\tthis.position = this.position.set(focus.positioning(this));\r\n\t}\r\n\r\n\tpublic focusingEasing(focus) {\r\n\t// to do...\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.translate(this.position.x, this.position.y);\r\n\t\tcontext.scale(this.zoom, this.zoom);\r\n\t\tcontext.rotate(this.rotation);\r\n\t}\r\n\r\n\tpublic toString() {\r\n\treturn this.position.toString() +\r\n\t\t\"zoom: \" + this.zoom + \"\\n\" +\r\n\t\t\"rotation: \" + this.rotation + \"\\n\";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/camera.ts"],"sourceRoot":""}
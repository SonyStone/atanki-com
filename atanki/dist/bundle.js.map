{"version":3,"sources":["webpack:///webpack/bootstrap 7e0fe7d3095c247f0a24","webpack:///./app/main.ts","webpack:///./app/math/vector2d.ts","webpack:///./app/type-script/utils.ts","webpack:///./app/type-script/tank.ts","webpack:///./app/collision/AABB.ts","webpack:///./app/type-script/box.ts","webpack:///./app/type-script/camera.ts","webpack:///./app/quad-tree/quad-tree.ts","webpack:///./app/quad-tree/node.ts","webpack:///./app/lib/rectangle.ts","webpack:///./app/quad-tree/bounds-node.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7e0fe7d3095c247f0a24","import Vector2d from \"./math/vector2d\";\r\nimport Utils from \"./type-script/utils\";\r\nimport Tank from \"./type-script/tank\";\r\nimport Box from \"./type-script/box\";\r\nimport Camera from \"./type-script/camera\";\r\n\r\nimport QuadTree from \"./quad-tree/quad-tree\";\r\nimport Rectangle from \"./lib/rectangle\";\r\nimport BoundingBox from \"./collision/AABB\";\r\n\r\nlet canvas = document.getElementById(\"canvas\");\r\nlet context = (<any>canvas).getContext(\"2d\");\r\nlet mouse = Utils.captureMouse((<any>canvas));\r\nlet keyboard = Utils.captureKeyboard((<any>window));\r\nlet log = document.getElementById(\"log\");\r\n\r\n\r\nlet tanks: Tank[] = [];\r\nlet tanksAmount = 20;\r\nlet player = 0;\r\nfor (let i = 0; i < tanksAmount; i++) {\r\n\ttanks.push(new Tank(Math.random() * 1000, Math.random() * 1000));\r\n\ttanks[i].color = Utils.HSBtoRGB(Math.random() * 360, 75, 75);\r\n}\r\n\r\nlet box = new Box();\r\nlet cam = new Camera();\r\n\r\n// QuadTree\r\nlet bounds = new Rectangle(0, 0, 1000, 1000);\r\nlet tree = new QuadTree(bounds, false, 7);\r\n\r\nlet camTarget = new Vector2d((<any>canvas).width / 2, (<any>canvas).height / 2);\r\nlet easing = 0.08;\r\n\r\n(function drawFrame() {\r\n\t(<any>window).requestAnimationFrame(drawFrame, canvas);\r\n\t(<any>canvas).width = window.innerWidth;\r\n\t(<any>canvas).height = window.innerHeight;\r\n\r\n\tif (keyboard.x.pressed) {\r\n\t\tkeyboard.x.pressed = false;\r\n\t\tif (player < tanksAmount) {\r\n\t\t\tplayer++;\r\n\t\t} else {\r\n\t\t\tplayer = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tif (keyboard.z.pressed) {\r\n\t\tkeyboard.z.pressed = false;\r\n\t\tif (player - 1 > -1) {\r\n\t\t\tplayer--;\r\n\t\t} else {\r\n\t\t\tplayer = tanksAmount - 1;\r\n\t\t}\r\n\t}\r\n\r\n\ttanks[player].player(keyboard, mouse, cam);\r\n\r\n\tcam.manipulation(keyboard, mouse);\r\n\r\n\tlet v = (tanks[player].position.sub(camTarget)).mult(easing);\r\n\tcamTarget = camTarget.add(v);\r\n\r\n\tcam.focusing(canvas, camTarget);\r\n\r\n\tcontext.save();\r\n\r\n\tcam.draw(context);\r\n\r\n\tcontext.fillStyle = \"green\";\r\n\tcontext.fillRect(1, 1, 100, 100);\r\n\tcontext.fillRect(-432, -153, 100, 100);\r\n\tcontext.fillRect(-565, 300, 100, 100);\r\n\tcontext.fillRect(123, -215, 100, 100);\r\n\tcontext.fillRect(-133, 132, 100, 100);\r\n\r\n\tfor (let tank of tanks) {\r\n\t\ttank.update();\r\n\t\ttank.updateBoundingBox();\r\n\t\ttank.draw(context);\r\n\t\ttank.boundingBox.draw(context);\r\n\t}\r\n\r\n\ttanks[player].drawHelp(context);\r\n\tbox.draw(context);\r\n\r\n\t// tree.boundingBox(tanks);\r\n\ttree.bruteForce(tanks); // temporarily\r\n\r\n\ttree.draw(context); // draw virtual quad-tree greed\r\n\r\n\tcontext.restore();\r\n\r\n\t// context.fillStyle = \"red\";\r\n\t// context.fillRect((target.x)-5, (target.y), +5, +5);\r\n\t// context.fillStyle = \"red\";\r\n\t// context.fillRect((target2.x)-5, (target2.y)-5, +5, +5);\r\n\r\n\t(<any>log).value = null;\r\n\r\n\t(<any>log).value += \"--- canvas ---\" + \"\\n\";\r\n\t(<any>log).value += \"cam \" + cam.toString() + \"\\n\";\r\n\r\n\t(<any>log).value += \"--- tank ---\" + \"\\n\";\r\n\t(<any>log).value += \"play tank #\" + player + \"\\n\";\r\n\t(<any>log).value += \"tank \" + tanks[player].toString() + \"\\n\";\r\n\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/main.ts","export default class Vector2d {\r\n\r\n\t/**\r\n\t * Return new vector, from an angle\r\n\t */\r\n\tpublic static fromAngle(angle) {\r\n\t\treturn new Vector2d(Math.cos(angle), Math.sin(angle));\r\n\t}\r\n\t/**\r\n\t * Return new vector, to angle, maybe?\r\n\t */\r\n\tpublic static angleTo(vec1: any, vec2: any) {\r\n\t\treturn Math.atan2((vec1.y - vec2.y), (vec1.x - vec2.x));\r\n\t}\r\n\r\n\t/**\r\n\t * Return new vector, to angle, maybe?\r\n\t */\r\n\tpublic static clone(vec)  {\r\n\t\treturn new Vector2d(vec.x, vec.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the magnitude (length) of a vector.\r\n\t */\r\n\tpublic static magnitude(vector: Vector2d): number {\r\n\t\treturn (Math.sqrt(\r\n\t\t\t(vector.getX() * vector.getX()) +\r\n\t\t\t(vector.getY() * vector.getY()),\r\n\t\t));\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the magnitude (length) of a vector (therefore saving a `sqrt` operation).\r\n\t */\r\n\tpublic static magnitudeSquared(vector: Vector2d): number {\r\n\t\treturn (\r\n\t\t\t(vector.getX() * vector.getX()) +\r\n\t\t\t(vector.getY() * vector.getY())\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Rotate a vector by an angle\r\n\t */\r\n\tpublic static rotate(vector: Vector2d, angle: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(vector.getX() * Math.cos(angle)) - (vector.getY() * Math.sin(angle)),\r\n\t\t\t(vector.getX() * Math.sin(angle)) + (vector.getY() * Math.cos(angle)),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Rotates the vector about a specified point by specified angle.\r\n\t */\r\n\tpublic static rotateAbout(vectorA, angle, vectorB): Vector2d {\r\n\t\tlet cos = Math.cos(angle);\r\n\t\tlet sin = Math.sin(angle);\r\n\t\tlet x = vectorB.x + ((vectorA.x - vectorB.x) * cos - (vectorA.y - vectorB.y) * sin);\r\n\t\tlet y = vectorB.y + ((vectorA.x - vectorB.x) * sin + (vectorA.y - vectorB.y) * cos);\r\n\t\treturn new Vector2d(x, y);\r\n\t}\r\n\r\n\tpublic static isLessOrEqual(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() <= vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() <= vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static isGreaterOrEqual(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() >= vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() >= vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static isLess(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() < vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() < vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static isGreater(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() > vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() > vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\r\n\tconstructor(x?: number, y?: number) {\r\n\t\tthis.x = x || 0;\r\n\t\tthis.y = y || 0;\r\n\t}\r\n\r\n\tpublic getX(): number {\r\n\t\treturn this.x;\r\n\t}\r\n\r\n\tpublic getY(): number {\r\n\t\treturn this.y;\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return set the components of the vector\r\n\t * with black magic\r\n\t */\r\n\tpublic set(vec: Vector2d): Vector2d;\r\n\tpublic set(x: number, y: number): Vector2d;\r\n\r\n\tpublic set(xOrVec: any, y?: number): any {\r\n\t\tif (typeof xOrVec === \"object\") {\r\n\t\t\tthis.x = xOrVec.x;\r\n\t\t\tthis.y = xOrVec.y;\r\n\t\t} else if (typeof xOrVec === \"number\" && typeof y === \"number\") {\r\n\t\t\tthis.x = xOrVec;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setX(x: number): Vector2d {\r\n\t\tthis.x = x;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setY(y: number): Vector2d {\r\n\t\tthis.y = y;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Modifies, return vector with zero coordinates\r\n\t */\r\n\tpublic setZero(): Vector2d {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Return new vector, copy of the vector\r\n\t */\r\n\tpublic copy(): Vector2d {\r\n\t\treturn new Vector2d(this.x, this.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the magnitude of the vector\r\n\t */\r\n\tpublic mag(): number {\r\n\t\treturn (Math.sqrt(\r\n\t\t\t(this.x * this.x) +\r\n\t\t\t(this.y * this.y),\r\n\t\t));\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the magnitude of the vector, squared\r\n\t */\r\n\tpublic magSq(): number {\r\n\t\treturn ((this.x * this.x) + (this.y * this.y));\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return adds one vector to another\r\n\t */\r\n\tpublic add(vec: Vector2d): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x + vec.x),\r\n\t\t\t(this.y + vec.y),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return subs one vector from another\r\n\t */\r\n\tpublic sub(vec: Vector2d): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x - vec.x),\r\n\t\t\t(this.y - vec.y),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return multiplies a vector by a scalar\r\n\t */\r\n\tpublic mult(scalar: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x * scalar),\r\n\t\t\t(this.y * scalar),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return divide a vector by a scalar\r\n\t */\r\n\tpublic div(scalar: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x / scalar),\r\n\t\t\t(this.y / scalar),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the distance between two points\r\n\t */\r\n\tpublic dist(vec: Vector2d): number {\r\n\t\treturn Math.sqrt(\r\n\t\t\tMath.pow(this.x - vec.x, 2) +\r\n\t\t\tMath.pow(this.y - vec.y, 2),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the dot product of two vectors\r\n\t */\r\n\tpublic dot(vec: Vector2d): number {\r\n\t\treturn (this.x * vec.x) + (this.y * vec.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return normalize the vector to a length of 1\r\n\t */\r\n\tpublic normalize(): Vector2d {\r\n\t\treturn this.div(this.mag());\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return limit the magnitude of the vector\r\n\t */\r\n\tpublic limit(scalar: number): Vector2d {\r\n\t\tif (this.magSq() > scalar * scalar) {\r\n\t\t\tthis.normalize().mult(scalar);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return set the magnitude of the vector\r\n\t */\r\n\tpublic setMag(scalar: number): Vector2d {\r\n\t\treturn this.normalize().mult(scalar);\r\n\t}\r\n\r\n\t/**\r\n\t * Return angle of rotation for this vector\r\n\t */\r\n\tpublic heading():number {\r\n\t\treturn Math.atan2(this.y, this.x);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return rotate the vector by an angle\r\n\t */\r\n\tpublic rotate(angle: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x * Math.cos(angle)) - (this.y * Math.sin(angle)),\r\n\t\t\t(this.x * Math.sin(angle)) + (this.y * Math.cos(angle)),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return linear interpolate the vector to another vector\r\n\t */\r\n\tpublic lerp(vec: Vector2d, amount: number): Vector2d {\r\n\t\tif (amount > 1) { amount = 1; }\r\n\t\tif (amount < 0) { amount = 0; }\r\n\t\treturn this.mult(amount).add(vec.copy().mult(1 - amount));\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return inverted vector direction\r\n\t */\r\n\tpublic invert(): Vector2d {\r\n\t\tlet x = this.x * -1;\r\n\t\tlet y = this.y * -1;\r\n\t\treturn new Vector2d(x, y);\r\n\t}\r\n\r\n\t/**\r\n\t * positioning\r\n\t * something to do with the camera\r\n\t */\r\n\tpublic positioning(camera): Vector2d {\r\n\t\treturn this.invert().rotate(camera.rotation).mult(camera.zoom).add(camera.focus);\r\n\t}\r\n\r\n\t/**\r\n\t * toArray\r\n\t */\r\n\tpublic toArray(): number[] {\r\n\t\treturn [this.x, this.y];\r\n\t}\r\n\r\n\t/**\r\n\t * toString\r\n\t */\r\n\tpublic toString(): string {\r\n\t\treturn \"x:\" +\r\n\t\t\tthis.x.toFixed(2) +\r\n\t\t\t\", y:\" +\r\n\t\t\tthis.y.toFixed(2) +\r\n\t\t\t\" \";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/math/vector2d.ts","import Vector2d from \"../math/vector2d\";\r\n\r\nexport default class Utils {\r\n\tpublic static captureMouse(element: HTMLAnchorElement) {\r\n\t\tlet mouse = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tLButton: { code: 0, pressed: false },\r\n\t\t\tRButton: { code: 2, pressed: false },\r\n\t\t\tMButton: { code: 1, pressed: false },\r\n\t\t\tWheelUp: {\r\n\t\t\t\tclick: false,\r\n\t\t\t\tget pressed() {\r\n\t\t\t\t\tif (this.click) {\r\n\t\t\t\t\t\tthis.click = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tWheelDown: {\r\n\t\t\t\tclick: false,\r\n\t\t\t\tget pressed() {\r\n\t\t\t\t\tif (this.click) {\r\n\t\t\t\t\t\tthis.click = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\telement.oncontextmenu = function (a) {\r\n\t\t\ta.preventDefault();\r\n\t\t};\r\n\r\n\t\telement.addEventListener('mousemove', function (event) {\r\n\t\t\tlet x, y;\r\n\t\t\tlet mouse_event = eventPositionCapture(x, y, event, element);\r\n\t\t\tmouse.x = mouse_event.x;\r\n\t\t\tmouse.y = mouse_event.y;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('mousedown', function (event) {\r\n\t\t\tlet name;\r\n\t\t\tfor (name in mouse) {\r\n\t\t\t\tif (mouse.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (mouse[name].code === event.button) {\r\n\t\t\t\t\t\tmouse[name].pressed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('mouseup', function (event) {\r\n\t\t\tlet buttonName;\r\n\t\t\tfor (let name in mouse) {\r\n\t\t\t\tif (mouse.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (mouse[name].code === event.button) {\r\n\t\t\t\t\t\tmouse[name].pressed = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('wheel', function (event) {\r\n\t\t\tif (event.deltaY < 0) {\r\n\t\t\t\tmouse[\"WheelUp\"].click = true;\r\n\t\t\t} else {\r\n\t\t\t\tmouse[\"WheelDown\"].click = true;\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\treturn mouse;\r\n\t};\r\n\r\n\tpublic static captureTouch(element: HTMLAnchorElement) {\r\n\t\tlet touch = { x: null, y: null, isPressed: false };\r\n\r\n\t\telement.addEventListener('touchstart', function (event) {\r\n\t\t\ttouch.isPressed = true;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('touchend', function (event) {\r\n\t\t\ttouch.isPressed = false;\r\n\t\t\ttouch.x = null;\r\n\t\t\ttouch.y = null;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('touchmove', function (event) {\r\n\t\t\tlet x, y;\r\n\t\t\tlet touch_event = eventPositionCapture(x, y, event.touches[0], element);\r\n\t\t\ttouch.x = touch_event.x;\r\n\t\t\ttouch.y = touch_event.y;\r\n\t\t}, false);\r\n\r\n\t\treturn touch;\r\n\t}\r\n\r\n\tpublic static captureKeyboard(element: HTMLAnchorElement) {\r\n\t\tlet key = {\r\n\t\t\tleft: { code: 37, pressed: false },\r\n\t\t\tright: { code: 39, pressed: false },\r\n\t\t\tup: { code: 38, pressed: false },\r\n\t\t\tdown: { code: 40, pressed: false },\r\n\t\t\tw: { code: 87, pressed: false },\r\n\t\t\ta: { code: 65, pressed: false },\r\n\t\t\ts: { code: 83, pressed: false },\r\n\t\t\td: { code: 68, pressed: false },\r\n\t\t\te: { code: 69, pressed: false },\r\n\t\t\tq: { code: 81, pressed: false },\r\n\t\t\tx: { code: 88, pressed: false },\r\n\t\t\tz: { code: 90, pressed: false },\r\n\t\t\tNumpadAdd: { code: 107, pressed: false },\r\n\t\t\tNumpadSub: { code: 109, pressed: false }\r\n\t\t};\r\n\r\n\t\telement.addEventListener(\"keydown\", function (event) {\r\n\t\t\tlet name;\r\n\t\t\tfor (name in key) {\r\n\t\t\t\tif (key.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (key[name].code === event.keyCode) {\r\n\t\t\t\t\t\tkey[name].pressed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener(\"keyup\", function (event) {\r\n\t\t\tvar name;\r\n\t\t\tfor (name in key) {\r\n\t\t\t\tif (key.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (key[name].code === event.keyCode) {\r\n\t\t\t\t\t\tkey[name].pressed = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\t// do we realy need this method?\r\n\tpublic static colorToRGB(color, alpha) {\r\n\t\tif (typeof color === 'string' && color[0] === '#') {\r\n\t\t\tcolor = parseInt(color.slice(1), 16);\r\n\t\t}\r\n\t\talpha = (alpha === undefined) ? 1 : alpha;\r\n\r\n\t\tlet r = color >> 16 & 0xff;\r\n\t\tlet g = color >> 8 & 0xff;\r\n\t\tlet b = color & 0xff;\r\n\t\tlet a = (alpha < 0) ? 0 : ((alpha > 1) ? 1 : alpha);\r\n\r\n\t\tif (a === 1) {\r\n\t\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n\t\t} else {\r\n\t\t\treturn \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Convert HSB color into string \"rgb(r,g,b)\"\r\n\t *\r\n\t * @param {number} hue in degrees (from 0 to 360)\r\n\t * @param {number} saturation in percent (from 0 to 100)\r\n\t * @param {number} brightness in percent (from 0 to 100)\r\n\t * @param {boolean} radians if true, used hue in radians\r\n\t * @return {string} color string \"rgb(r,g,b)\"\r\n\t */\r\n\tpublic static HSBtoRGB(hue?, saturation?, brightness?, radians?) {\r\n\t\tif (hue === undefined) { hue = 0; }\r\n\t\tif (saturation === undefined) { saturation = 75; }\r\n\t\tif (brightness === undefined) { brightness = 75; }\r\n\t\tif (radians === undefined) { radians = false; }\r\n\r\n\t\tif (radians) { hue *= 180 / Math.PI; }\r\n\t\tlet HSB = {\r\n\t\t\th: hue % 360,\r\n\t\t\ts: saturation / 100,\r\n\t\t\tb: brightness / 100\r\n\t\t};\r\n\t\tlet RGB = {\r\n\t\t\tr: null,\r\n\t\t\tg: null,\r\n\t\t\tb: null,\r\n\t\t\tcolor: function () {\r\n\t\t\t\treturn \"rgb(\" + Math.round(this.r) +\r\n\t\t\t\t\t\",\" + Math.round(this.g) +\r\n\t\t\t\t\t\",\" + Math.round(this.b) + \")\";\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet chroma;\r\n\t\tlet hueI;\r\n\t\tlet x;\r\n\t\tlet m;\r\n\r\n\t\tif (HSB.h < 0) {\r\n\t\t\tHSB.h += 360;\r\n\t\t}\r\n\t\tif (HSB.s > 100) {\r\n\t\t\tHSB.s = 100;\r\n\t\t} else if (HSB.s < 0) {\r\n\t\t\tHSB.s = 0;\r\n\t\t}\r\n\r\n\t\tif (HSB.b > 100) {\r\n\t\t\tHSB.b = 100;\r\n\t\t} else if (HSB.b < 0) {\r\n\t\t\tHSB.b = 0;\r\n\t\t}\r\n\r\n\t\tchroma = HSB.s * HSB.b;\r\n\t\thueI = HSB.h / 60;\r\n\r\n\t\tx = chroma * (1 - Math.abs(hueI % 2 - 1));\r\n\t\tswitch (Math.floor(hueI)) {\r\n\t\t\tcase 0:\r\n\t\t\t\tRGB.r = chroma;\r\n\t\t\t\tRGB.g = x;\r\n\t\t\t\tRGB.b = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tRGB.r = x;\r\n\t\t\t\tRGB.g = chroma;\r\n\t\t\t\tRGB.b = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tRGB.r = 0;\r\n\t\t\t\tRGB.g = chroma;\r\n\t\t\t\tRGB.b = x;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tRGB.r = 0;\r\n\t\t\t\tRGB.g = x;\r\n\t\t\t\tRGB.b = chroma;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tRGB.r = x;\r\n\t\t\t\tRGB.g = 0;\r\n\t\t\t\tRGB.b = chroma;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tRGB.r = chroma;\r\n\t\t\t\tRGB.g = 0;\r\n\t\t\t\tRGB.b = x;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tm = HSB.b - chroma;\r\n\t\tRGB.r += m;\r\n\t\tRGB.g += m;\r\n\t\tRGB.b += m;\r\n\t\tRGB.r *= 255;\r\n\t\tRGB.g *= 255;\r\n\t\tRGB.b *= 255;\r\n\r\n\t\treturn RGB.color();\r\n\t}\r\n\r\n\t// public parseColor(color, toNumber) {\r\n\t// \tif (toNumber === true) {\r\n\t// \t\tif (typeof color === 'number') {\r\n\t// \t\t\treturn (color | 0); // chop off decimal\r\n\t// \t\t}\r\n\t// \t\tif (typeof color === 'string' && color[0] === '#') {\r\n\t// \t\t\tcolor = color.slice(1);\r\n\t// \t\t}\r\n\t// \t\treturn window.parseInt(color, 16);\r\n\t// \t} else {\r\n\t// \t\tif (typeof color === 'number') {\r\n\t// \t\t\t// make sure our hexadecimal number is padded out\r\n\t// \t\t\tcolor = '#' + ('00000' + (color | 0).toString(16)).substr(-6);\r\n\t// \t\t}\r\n\t// \t\treturn color;\r\n\t// \t}\r\n\t// }\r\n\r\n\tpublic static containsPoint(rect, x, y) {\r\n\t\treturn !(x < rect.x || x > rect.x + rect.width ||\r\n\t\t\ty < rect.y || y > rect.y + rect.height);\r\n\t}\r\n\r\n\tpublic static angleNormalize(angle) {\r\n\t\treturn Math.atan2(Math.sin(angle), Math.cos(angle));\r\n\t}\r\n}\r\n\r\n\r\nfunction eventPositionCapture(x, y, event, element) {\r\n\tif (event.pageX || event.pageY) {\t\t// он будет проверять каждый раз? O_o\r\n\t\tx = event.pageX;\r\n\t\ty = event.pageY;\r\n\t} else {\r\n\t\tx = event.clientX + document.body.scrollLeft +\r\n\t\t\tdocument.documentElement.scrollLeft;\r\n\t\ty = event.clientY + document.body.scrollTop +\r\n\t\t\tdocument.documentElement.scrollTop;\r\n\t}\r\n\tx -= element.offsetLeft;\r\n\ty -= element.offsetTop;\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/utils.ts","import Utils from \"./utils\";\r\nimport Vector2d from \"../math/vector2d\";\r\nimport BoundingBox from \"../collision/AABB\";\r\n\r\nexport default class Tank {\r\n\tpublic pull: Vector2d;\r\n\tpublic position: Vector2d = new Vector2d();\r\n\tpublic color = Utils.HSBtoRGB(360, 75, 75);\r\n\tpublic direction: Vector2d = new Vector2d();\r\n\r\n\tpublic rotation: number = 0;\r\n\tpublic speed: number = 5;\r\n\r\n\tpublic positionRotation: number = 0;\r\n\tpublic target: Vector2d = new Vector2d();\r\n\tpublic targetRotation: number = 0;\r\n\r\n\tpublic scaleX: number = 1;\r\n\tpublic scaleY: number = 1;\r\n\tpublic lineWidth: number = 2;\r\n\tpublic transparency: number = 1;\r\n\r\n\t// specially for quard-tree\r\n\tpublic width: number = 5;\r\n\tpublic height: number = 5;\r\n\tpublic radius: number = 20;\r\n\tpublic isColliding: boolean = false;\r\n\r\n\t// specially for Axis Aligned Bounding Box\r\n\tpublic boundingBox: BoundingBox;\r\n\tpublic isCollidingboundingBox: boolean = false;\r\n\tpublic option: any = {\r\n\t\tlowerBound: null as Vector2d,\r\n\t\tupperBound: null as Vector2d,\r\n\t};\r\n\r\n\tpublic object = {\r\n\t\tgun: {\r\n\t\t\tlength: 30 as number,\r\n\t\t\twidth: 10 as number,\r\n\t\t\tturretRadius: 10 as number,\r\n\t\t},\r\n\t\ttank: {\r\n\t\t\tlength: 40 as number,\r\n\t\t\twidth: 30 as number,\r\n\t\t},\r\n\t\ttank2: [\r\n\t\t\tnew Vector2d(-20, -15 ),\r\n\t\t\tnew Vector2d(20, -15 ),\r\n\t\t\tnew Vector2d(20, 15 ),\r\n\t\t\tnew Vector2d(-20, 15 ),\r\n\t\t\tnew Vector2d(20, 0 ),\r\n\t\t] as Vector2d[],\r\n\t};\r\n\r\n\tpublic tankRotated: Vector2d[];\r\n\r\n\r\n\r\n\tconstructor(x?, y?) {\r\n\t\tthis.pull = new Vector2d(x, y) || new Vector2d();\r\n\t}\r\n\r\n\tpublic player(keyboard, mouse, camera) {\r\n\t\tthis.targetRotation = Vector2d.angleTo(\r\n\t\t\tthis.target.set(mouse),\r\n\t\t\tcamera.targeting(this.position)\r\n\t\t\t// this.position.mult(camera.zoom).rotate(camera.rotation).add(camera.position)\r\n\t\t) - camera.rotation;\r\n\r\n\t\tvar speed = 0;\r\n\t\tif (keyboard.up.pressed || keyboard.w.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(-Math.PI / 2 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.down.pressed || keyboard.s.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(Math.PI / 2 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.left.pressed || keyboard.a.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(Math.PI - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.right.pressed || keyboard.d.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(0 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tthis.direction = this.direction.normalize();\r\n\t\tthis.pull = this.pull.add(this.direction.mult(speed));\r\n\t\t// this.direction.setZero();\r\n\t}\r\n\r\n\tpublic update() {\r\n\t\tthis.positionRotation = Vector2d.angleTo(this.pull, this.position);\r\n\t\tthis.position.x = this.pull.x - Math.cos(this.positionRotation) * 18;\r\n\t\tthis.position.y = this.pull.y - Math.sin(this.positionRotation) * 18;\r\n\t}\r\n\r\n\tpublic updateBoundingBox() {\r\n\r\n\t\tlet tankRotated: Vector2d[] = [];\r\n\r\n\t\tfor (let point of this.object.tank2) {\r\n\t\t\ttankRotated.push(Vector2d.rotateAbout(\r\n\t\t\t\tVector2d.clone(this.position).add(point),\r\n\t\t\t\tthis.positionRotation,\r\n\t\t\t\tthis.position,\r\n\t\t\t));\r\n\t\t}\r\n\t\tlet min = Vector2d.clone(this.position);\r\n\t\tlet max =  Vector2d.clone(this.position);\r\n\r\n\t\tfor (let point of tankRotated) {\r\n\t\t\tif (point.getX() < min.getX()) {\r\n\t\t\t\tmin.setX(point.getX());\r\n\t\t\t}\r\n\t\t\tif (point.getY() < min.getY()) {\r\n\t\t\t\tmin.setY(point.getY());\r\n\t\t\t}\r\n\t\t\tif (point.getX() > max.getX()) {\r\n\t\t\t\tmax.setX(point.getX());\r\n\t\t\t}\r\n\t\t\tif (point.getY() > max.getY()) {\r\n\t\t\t\tmax.setY(point.getY());\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.tankRotated = tankRotated;\r\n\r\n\t\tthis.option.lowerBound = min;\r\n\t\tthis.option.upperBound = max;\r\n\t\tthis.boundingBox = new BoundingBox(this.option);\r\n\t}\r\n\r\n\tpublic draw(ctx) {\r\n\t\tctx.save();\r\n\t\tctx.translate(this.position.x, this.position.y);\r\n\t\tctx.rotate(this.rotation);\r\n\t\tctx.scale(this.scaleX, this.scaleY);\r\n\t\tctx.lineWidth = this.lineWidth;\r\n\t\tctx.lineJoin = \"round\";\r\n\t\tctx.lineCap = \"round\";\r\n\r\n\t\tctx.fillStyle = this.color;\r\n\r\n\r\n\t\tif (this.isColliding) {\r\n\t\t\tctx.strokeStyle = \"#c40000\";\r\n\t\t\tthis.isColliding = false;\r\n\t\t} else {\r\n\t\t\tctx.strokeStyle = \"#191919\";\r\n\t\t}\r\n\r\n\t\tctx.globalAlpha = this.transparency;\r\n\r\n\t\tctx.save();\r\n\t\tctx.rotate(this.positionRotation);\r\n\t\tthis.tank2Path(ctx);\r\n\t\tctx.restore();\r\n\r\n\t\tctx.save();\r\n\t\tctx.rotate(this.targetRotation);\r\n\t\tthis.gunPath(ctx);\r\n\t\tctx.restore();\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tpublic drawHelp(ctx) {\r\n\t\tlet scale = 1;\r\n\t\tctx.save();\r\n\r\n\t\tctx.translate(this.position.x, this.position.y);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.fillStyle = \"#ff0000\";\r\n\t\tctx.strokeStyle = \"#00ff00\";\r\n\t\tctx.lineWidth = 0.5;\r\n\t\tctx.lineJoin = \"round\";\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.scale(scale, scale);\r\n\r\n\t\tfunction pointDraw(rotation, positionX, positionY) {\r\n\t\t\tif (rotation === undefined) { rotation = 0; }\r\n\t\t\tif (positionX === undefined) { positionX = 0; }\r\n\t\t\tif (positionY === undefined) { positionY = 0; }\r\n\t\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rotate(rotation);\r\n\t\t\tctx.arc(positionX, positionY, 2, 0, (Math.PI * 2), false);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.fill();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tfunction arcAngleDraw(angle1, angle2, radius) {\r\n\t\t\tif (angle1 === undefined) { angle1 = 0; }\r\n\t\t\tif (angle2 === undefined) { angle2 = 0; }\r\n\t\t\tif (radius === undefined) { radius = 10; }\r\n\t\t\tangle1 = Utils.angleNormalize(angle1);\r\n\t\t\tangle2 = Utils.angleNormalize(angle2);\r\n\t\t\tlet difference = angle1 - angle2;\r\n\t\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\tif (Math.sin(difference) > 0) {\r\n\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), true);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), false);\r\n\t\t\t}\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rotate(this.positionRotation);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(50, 0);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rotate(this.targetRotation);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(50, 0);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\r\n\r\n\t\t// pointDraw(this.targetRotation, 50);\r\n\t\t// pointDraw(this.positionRotation, 50);\r\n\t\t// pointDraw(0,this.moveX - this.x, this.moveY - this.y);\r\n\t\tarcAngleDraw(this.targetRotation, this.positionRotation, 50);\r\n\t\t// arcAngleDraw(this.targetRotation, 0, 42);\r\n\t\t// arcAngleDraw(this.positionRotation, 0, 40);\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tpublic toString() {\r\n\t\treturn \"position: \" + this.position.toString() + \"\\n\" +\r\n\t\t\t\"pull: \" + this.pull.toString() + \"\\n\" +\r\n\t\t\t\"direction: \" + this.direction.toString() + \"\\n\" +\r\n\t\t\t\"targetRotation: \" + this.targetRotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"positionRotation: \" + this.positionRotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"rotation: \" + this.rotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"BoundingBox: \" + this.boundingBox.bound.min.toString() + \"\\n\" +\r\n\t\t\t\"option.lowerBound: \" + this.option.lowerBound.toString() + \"\\n\" +\r\n\t\t\t\"option.upperBound: \" + this.option.upperBound.toString() + \"\\n\" +\r\n\t\t\t\"tankRotated: \" + \"\\n\" +\r\n\t\t\tthis.tankRotated[0].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[1].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[2].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[3].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[4].toString() + \"\\n\";\r\n\t}\r\n\r\n\tprivate tankPath(ctx) {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(-this.object.tank.length / 2, -this.object.tank.width / 2, this.object.tank.length, this.object.tank.width);\r\n\t\tctx.moveTo(this.object.tank.length / 2, 0);\r\n\t\tctx.lineTo(-this.object.tank.length / 2, this.object.tank.width / 2);\r\n\t\tctx.lineTo(-this.object.tank.length / 2, -this.object.tank.width / 2);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tprivate tank2Path(ctx) {\r\n\t\tlet draw: Vector2d[] = this.object.tank2;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(draw[0].x, draw[0].y);\r\n\t\tctx.lineTo(draw[1].x, draw[1].y);\r\n\t\tctx.lineTo(draw[2].x, draw[2].y);\r\n\t\tctx.lineTo(draw[3].x, draw[3].y);\r\n\t\tctx.closePath();\r\n\t\tctx.moveTo(draw[4].x, 0);\r\n\t\tctx.lineTo(draw[3].x, draw[3].y);\r\n\t\tctx.lineTo(draw[0].x, draw[0].y);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tprivate gunPath(ctx) {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(0, -this.object.gun.width / 2, this.object.gun.length, this.object.gun.width);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(0, 0, this.object.gun.turretRadius, 0, (Math.PI * 2), false);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/tank.ts","import Vector2d from \"../math/vector2d\";\r\n\r\n// Axis Aligned Bounding Box\r\nexport default class BoundingBox {\r\n\r\n\tpublic static overlaps(boxA: BoundingBox, boxB: BoundingBox): boolean {\r\n\t\treturn (\r\n\t\t\tVector2d.isLessOrEqual(boxA.bound.min, boxB.bound.max) &&\r\n\t\t\tVector2d.isLessOrEqual(boxB.bound.min, boxA.bound.max)\r\n\t\t);\r\n\t}\r\n\r\n\tpublic bound = {\r\n\t\tmax: <Vector2d> null,\r\n\t\tmin: <Vector2d> null,\r\n\t};\r\n\r\n\tconstructor(options?) {\r\n\t\toptions = options || {};\r\n\t\tthis.bound.min = options.lowerBound ? Vector2d.clone(options.lowerBound) : new Vector2d();\r\n\t\tthis.bound.max = options.upperBound ? Vector2d.clone(options.upperBound) : new Vector2d();\r\n\t}\r\n\r\n\tpublic extend(box: BoundingBox) {\r\n\t\tlet max = this.bound.max;\r\n\t\tlet min = this.bound.min;\r\n\t\tif (Vector2d.isGreater(max, box.bound.max)) {\r\n\t\t\tmax = box.bound.max;\r\n\t\t}\r\n\t\tif (Vector2d.isLess(min, box.bound.min)) {\r\n\t\t\tmin = box.bound.min;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.save();\r\n\t\tcontext.translate(this.bound.min.getX(), this.bound.min.getY());\r\n\t\tcontext.beginPath();\r\n\t\tcontext.rect(0, 0, this.bound.max.getX() - this.bound.min.getX(), this.bound.max.getY() - this.bound.min.getY());\r\n\t\tcontext.lineWidth = 0.5;\r\n\t\tcontext.strokeStyle = \"#00ff00\";\r\n\t\tcontext.stroke();\r\n\t\tcontext.restore();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/collision/AABB.ts","export default class Box {\r\n\r\n\tpublic x: number= 200;\r\n\tpublic y: number = 200;\r\n\tpublic angle: number;\r\n\tprivate size: any = { height: 45, width: 45};\r\n\tprivate color = \"#9C9C9C\";\r\n\r\n\tpublic draw(ctx) {\r\n\t\tctx.save();\r\n\t\tctx.translate(this.x, this.y);\r\n\t\tctx.rotate(this.angle);\r\n\t\tctx.scale(1, 1);\r\n\t\tctx.lineWidth = 3;\r\n\r\n\t\tctx.fillStyle = this.color;\r\n\t\tctx.strokeStyle = \"#2B2B2B\";\r\n\t\tctx.globalAlpha = 1;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(-this.size.height / 2, -this.size.width / 2, this.size.height, this.size.width);\r\n\r\n\t\tctx.moveTo(this.size.height / 2, this.size.width / 2);\r\n\t\tctx.lineTo(-this.size.height / 2, -this.size.width / 2);\r\n\r\n\t\tctx.moveTo(-this.size.height / 2, this.size.width / 2);\r\n\t\tctx.lineTo(this.size.height / 2, -this.size.width / 2);\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\r\n\t\tctx.restore();\r\n\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/box.ts","import Vector2d from \"../math/vector2d\";\r\n\r\nexport default class Camera {\r\n\tpublic position: Vector2d;\r\n\tpublic zoom;\r\n\tpublic rotation;\r\n\tpublic focus: Vector2d;\r\n\r\n\tconstructor(position?, zoom?, rotation?) {\r\n\t\tthis.position = position || new Vector2d();\r\n\t\tthis.zoom     = zoom     || 1;\r\n\t\tthis.rotation = rotation || 0;\r\n\t\tthis.focus    = new Vector2d();\r\n\t}\r\n\r\n\t/**\r\n\t * targeting\r\n\t */\r\n\tpublic targeting(target: Vector2d) {\r\n\t\treturn target.mult(this.zoom).rotate(this.rotation).add(this.position);\r\n\t}\r\n\r\n\t/**\r\n\t * manipulation\r\n\t */\r\n\tpublic manipulation(keyboard, mouse) {\r\n\t\tif (keyboard.NumpadAdd.pressed || mouse.WheelUp.pressed) { this.zoom *= 1.1; }\r\n\t\tif (keyboard.NumpadSub.pressed || mouse.WheelDown.pressed) { this.zoom /= 1.1; }\r\n\r\n\t\tif (keyboard.e.pressed) { this.rotation -= 0.1; }\r\n\t\tif (keyboard.q.pressed) { this.rotation += 0.1; }\r\n\t}\r\n\r\n\tpublic focusing(canvas?: any, focus?: Vector2d) {\r\n\t\tif (focus === undefined) {\r\n\t\t\tfocus = new Vector2d();\r\n\t\t}\r\n\t\tthis.focus.set(canvas.width / 2, canvas.height / 2);\r\n\r\n\t\tthis.position = this.position.set(focus.positioning(this));\r\n\t}\r\n\r\n\tpublic focusingEasing(focus) {\r\n\t// to do...\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.translate(this.position.x, this.position.y);\r\n\t\tcontext.scale(this.zoom, this.zoom);\r\n\t\tcontext.rotate(this.rotation);\r\n\t}\r\n\r\n\tpublic toString() {\r\n\treturn this.position.toString() +\r\n\t\t\"zoom: \" + this.zoom + \"\\n\" +\r\n\t\t\"rotation: \" + this.rotation + \"\\n\";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/camera.ts","import Node from \"./node\";\r\nimport BoundsNode from \"./bounds-node\";\r\nimport Rectangle from \"../lib/rectangle\";\r\nimport BoundingBox from \"../collision/AABB\";\r\nimport Vector2d from \"../math/vector2d\";\r\n\r\nexport default class QuadTree {\r\n\tpublic root: Node & BoundsNode = null;\r\n\r\n\tconstructor(bounds: Rectangle, pointQuad: boolean, maxDepth?: number, maxChildren?: number) {\r\n\t\tlet node;\r\n\t\tif (pointQuad) {\r\n\t\t\tnode = new Node(bounds, 0, maxDepth, maxChildren);\r\n\t\t} else {\r\n\t\t\tnode = new BoundsNode(bounds, 0, maxDepth, maxChildren);\r\n\t\t}\r\n\t\tthis.root = node;\r\n\t}\r\n\r\n\tpublic insert(item: any[]): void {\r\n\t\tif (item instanceof Array) {\r\n\t\t\tlet len = item.length;\r\n\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\tthis.root.insert(item[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.root.insert(item);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic clear(): void {\r\n\t\tthis.root.clear();\r\n\t}\r\n\r\n\tpublic retrieve(item) {\r\n\t\tlet out = this.root.retrieve(item).slice(0);\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tlet bounds = this.root.bounds;\r\n\r\n\t\tbounds.draw(context);\r\n\r\n\t\tlet len = this.root.nodes.length;\r\n\t\tfor (let node of this.root.nodes) {\r\n\t\t\tnode.draw(context);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boundingBox(items) {\r\n\t\tthis.clear();\r\n\t\tthis.insert(items); // make virtual quad-tree greed\r\n\t\tfor (let item of items) {\r\n\t\t\tlet itemsB = this.retrieve(item);\r\n\t\t\tfor (let itemB of itemsB) {\r\n\t\t\t\tif (item === itemB) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.isColliding && itemB.isColliding) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (BoundingBox.overlaps(item.boundingBox, itemB.boundingBox)) {\r\n\t\t\t\t\titem.isColliding = true;\r\n\t\t\t\t\titemB.isColliding = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boundingCircle(items) {\r\n\t\tthis.clear();\r\n\r\n\t\tthis.insert(items); // make virtual quad-tree greed\r\n\t\tfor (let item of items) {\r\n\t\t\tlet itemsB = this.retrieve(item);\r\n\t\t\tfor (let itemB of itemsB) {\r\n\t\t\t\tif (item === itemB) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.isColliding && itemB.isColliding) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet d: Vector2d = item.position.sub(itemB.position);\r\n\t\t\t\tlet radii = item.radius + itemB.radius;\r\n\t\t\t\tlet colliding = d.magSq() < (radii * radii);\r\n\t\t\t\tif (!item.isColliding) {\r\n\t\t\t\t\titem.isColliding = colliding;\r\n\t\t\t\t}\r\n\t\t\t\tif (!itemB.isColliding) {\r\n\t\t\t\t\titemB.isColliding = colliding;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic bruteForce(items) {\r\n\t\tfor (let item of items) {\r\n\t\t\tfor (let itemB of items) {\r\n\t\t\t\tif (item === itemB) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.isColliding && itemB.isColliding) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (BoundingBox.overlaps(item.boundingBox, itemB.boundingBox)) {\r\n\t\t\t\t\titem.isColliding = true;\r\n\t\t\t\t\titemB.isColliding = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/quad-tree/quad-tree.ts","import Rectangle from \"../lib/rectangle\";\r\n\r\nexport default class Node {\r\n\tprotected static TOP_LEFT = 0;\r\n\tprotected static TOP_RIGHT = 1;\r\n\tprotected static BOTTOM_LEFT = 2;\r\n\tprotected static BOTTOM_RIGHT = 3;\r\n\r\n\tpublic nodes: any[] = null;\r\n\tpublic children: any[] = null;\r\n\tpublic bounds: Rectangle = null;\r\n\r\n\tprotected classConstructor = Node;\r\n\tprotected depth = 0;\r\n\tprotected maxChildren = 4;\r\n\tprotected maxDepth = 4;\r\n\r\n\tconstructor(bounds: Rectangle, depth: number, maxDepth: number, maxChildren: number) {\r\n\t\tthis.bounds = bounds;\r\n\t\tthis.children = [];\r\n\t\tthis.nodes = [];\r\n\t}\r\n\r\n\tpublic insert(item) {\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\tthis.nodes[index].insert(item);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.children.push(item);\r\n\t\tlet len = this.children.length;\r\n\t\tif (!(this.depth >= this.maxDepth) && len > this.maxChildren) {\r\n\t\t\tthis.subdivide();\r\n\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\tthis.insert(this.children[i]);\r\n\t\t\t}\r\n\t\t\tthis.children.length = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic retrieve(item) {\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\treturn this.nodes[index].retrieve(item);\r\n\t\t}\r\n\t\treturn this.children;\r\n\t}\r\n\r\n\tpublic subdivide() {\r\n\t\tlet depth = this.depth + 1;\r\n\t\tlet bx = this.bounds.x;\r\n\t\tlet by = this.bounds.y;\r\n\r\n\t\t// floor the values\r\n\t\tlet b_w_h = (this.bounds.width / 2);\r\n\t\tlet b_h_h = (this.bounds.height / 2);\r\n\t\tlet bx_b_w_h = bx + b_w_h;\r\n\t\tlet by_b_h_h = by + b_h_h;\r\n\r\n\t\t// top left\r\n\t\tthis.nodes[Node.TOP_LEFT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx, by, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\r\n\t\t// top right\r\n\t\tthis.nodes[Node.TOP_RIGHT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx_b_w_h, by, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\r\n\t\t// bottom left\r\n\t\tthis.nodes[Node.BOTTOM_LEFT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx, by_b_h_h, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\r\n\t\t// bottom right\r\n\t\tthis.nodes[Node.BOTTOM_RIGHT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx_b_w_h, by_b_h_h, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\t}\r\n\r\n\tpublic clear() {\r\n\t\tthis.children.length = 0;\r\n\t\tlet len = this.nodes.length;\r\n\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\tthis.nodes[i].clear();\r\n\t\t}\r\n\t\tthis.nodes.length = 0;\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tlet bounds = this.bounds;\r\n\r\n\t\tbounds.draw(context);\r\n\r\n\t\tlet len = this.nodes.length;\r\n\t\tfor (let node of this.nodes) {\r\n\t\t\tnode.draw(context);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected findIndex(item) {\r\n\t\tlet b = this.bounds;\r\n\t\tlet left = (item.position.x > b.x + b.width / 2) ? false : true;\r\n\t\tlet top = (item.position.y > b.y + b.height / 2) ? false : true;\r\n\t\t// top left\r\n\t\tlet index = Node.TOP_LEFT;\r\n\t\tif (left) {\r\n\t\t\t// left side\r\n\t\t\tif (!top) {\r\n\t\t\t\t// bottom left\r\n\t\t\t\tindex = Node.BOTTOM_LEFT;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// right side\r\n\t\t\tif (top) {\r\n\t\t\t\t// top right\r\n\t\t\t\tindex = Node.TOP_RIGHT;\r\n\t\t\t} else {\r\n\t\t\t\t// bottom right\r\n\t\t\t\tindex = Node.BOTTOM_RIGHT;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/quad-tree/node.ts","import Node from \"../quad-tree/node\";\r\n\r\nexport default class Rectangle {\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\tpublic width: number;\r\n\tpublic height: number;\r\n\tconstructor(x, y, width, height) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.save();\r\n\t\tcontext.translate(this.x, this.y);\r\n\t\tcontext.scale(1, 1);\r\n\t\tcontext.lineWidth = 2;\r\n\r\n\t\tcontext.strokeStyle = \"#2B2B2B\";\r\n\t\tcontext.globalAlpha = 1;\r\n\r\n\t\tcontext.save();\r\n\r\n\t\tcontext.beginPath();\r\n\t\tcontext.rect(0, 0, this.width, this.height);\r\n\t\tcontext.stroke();\r\n\r\n\t\tcontext.restore();\r\n\t\tcontext.restore();\r\n\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/lib/rectangle.ts","import Node from \"./node\";\r\nimport Rectangle from \"../lib/rectangle\";\r\n\r\nexport default class BoundsNode extends Node {\r\n\tprotected classConstructor = BoundsNode;\r\n\tprivate stuckChildren = null;\r\n\tprivate out = [];\r\n\r\n\tconstructor (bounds: Rectangle, depth: number, maxDepth: number, maxChildren: number) {\r\n\t\tsuper(bounds, depth, maxDepth, maxChildren);\r\n\t\tthis.stuckChildren = [];\r\n\t}\r\n\r\n\tpublic insert(item) {\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\tlet node = this.nodes[index];\r\n\r\n\t\t\t// todo: make _bounds bounds // wut?\r\n\t\t\tif (item.position.x >= node.bounds.x &&\r\n\t\t\t\titem.position.x + item.width <= node.bounds.x + node.bounds.width &&\r\n\t\t\t\titem.position.y >= node.bounds.y &&\r\n\t\t\t\titem.position.y + item.height <= node.bounds.y + node.bounds.height) {\r\n\t\t\t\tthis.nodes[index].insert(item);\r\n\t\t\t} else {\r\n\t\t\t\tthis.stuckChildren.push(item);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.children.push(item);\r\n\t\tlet len = this.children.length;\r\n\t\tif (!(this.depth >= this.maxDepth) && len > this.maxChildren) {\r\n\t\t\tthis.subdivide();\r\n\t\t\tfor (let i = 0; i < len; i++ ) {\r\n\t\t\t\tthis.insert(this.children[i]);\r\n\t\t\t}\r\n\t\t\tthis.children.length = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getChildren() {\r\n\t\treturn this.children.concat(this.stuckChildren);\r\n\t}\r\n\r\n\tpublic retrieve(item) {\r\n\t\tlet out = this.out;\r\n\t\tout.length = 0;\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\tlet node = this.nodes[index];\r\n\t\t\tif (item.position.x >= node.bounds.x &&\r\n\t\t\t\titem.position.x + item.width <= node.bounds.x + node.bounds.width &&\r\n\t\t\t\titem.position.y >= node.bounds.y &&\r\n\t\t\t\titem.position.y + item.height <= node.bounds.y + node.bounds.height) {\r\n\t\t\t\tout.push.apply(out, this.nodes[index].retrieve(item));\r\n\t\t\t} else {\r\n\t\t\t\t// Part of the item are overlapping multiple child nodes.\r\n\t\t\t\t// For each of the overlapping nodes, return all containing objects.\r\n\t\t\t\tif (item.position.x <= this.nodes[Node.TOP_RIGHT].bounds.x) {\r\n\t\t\t\t\tif (item.position.y <= this.nodes[Node.BOTTOM_LEFT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.TOP_LEFT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.position.y + item.height > this.nodes[Node.BOTTOM_LEFT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.BOTTOM_LEFT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (item.position.x + item.width > this.nodes[Node.TOP_RIGHT].bounds.x) {\r\n\t\t\t\t\t// position + width bigger than middle x // the hell does that mean?\r\n\t\t\t\t\tif (item.position.y <= this.nodes[Node.BOTTOM_RIGHT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.TOP_RIGHT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.position.y + item.height > this.nodes[Node.BOTTOM_RIGHT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.BOTTOM_RIGHT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tout.push.apply(out, this.stuckChildren);\r\n\t\tout.push.apply(out, this.children);\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic getAllContent() {\r\n\t\tlet out = this.out;\r\n\t\tif (this.nodes.length) {\r\n\t\t\tfor (let i = 0; i < this.nodes.length; i++) {\r\n\t\t\t\tthis.nodes[i].getAllContent();\r\n\t\t\t}\r\n\t\t}\r\n\t\tout.push.apply(out, this.stuckChildren);\r\n\t\tout.push.apply(out, this.children);\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic clear() {\r\n\t\tthis.stuckChildren.length = 0;\r\n\t\tthis.children.length = 0;\r\n\t\tlet len = this.nodes.length;\r\n\t\tif (!len) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (let i = 0; i < len; i++ ) {\r\n\t\t\tthis.nodes[i].clear();\r\n\t\t}\r\n\t\tthis.nodes.length = 0;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/quad-tree/bounds-node.ts"],"sourceRoot":""}
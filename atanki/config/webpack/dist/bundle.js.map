{"version":3,"sources":["webpack:///webpack/bootstrap cb320baa5d956c4679b7","webpack:///./app/math/vector2d.ts","webpack:///./app/type-script/utils.ts","webpack:///./app/collision/AABB.ts","webpack:///./app/quad-tree/node.ts","webpack:///./app/lib/rectangle.ts","webpack:///./app/main.ts","webpack:///./app/type-script/tank.ts","webpack:///./app/type-script/box.ts","webpack:///./app/type-script/camera.ts","webpack:///./app/quad-tree/quad-tree.ts","webpack:///./app/quad-tree/bounds-node.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cb320baa5d956c4679b7","export default class Vector2d {\r\n\r\n\t/**\r\n\t * Return new vector, from an angle\r\n\t */\r\n\tpublic static fromAngle(angle) {\r\n\t\treturn new Vector2d(Math.cos(angle), Math.sin(angle));\r\n\t}\r\n\t/**\r\n\t * Return new vector, to angle, maybe?\r\n\t */\r\n\tpublic static angleTo(vec1: any, vec2: any) {\r\n\t\treturn Math.atan2((vec1.y - vec2.y), (vec1.x - vec2.x));\r\n\t}\r\n\r\n\t/**\r\n\t * Return new vector, to angle, maybe?\r\n\t */\r\n\tpublic static clone(vec)  {\r\n\t\treturn new Vector2d(vec.x, vec.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the magnitude (length) of a vector.\r\n\t */\r\n\tpublic static magnitude(vector: Vector2d): number {\r\n\t\treturn (Math.sqrt(\r\n\t\t\t(vector.getX() * vector.getX()) +\r\n\t\t\t(vector.getY() * vector.getY()),\r\n\t\t));\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the magnitude (length) of a vector (therefore saving a `sqrt` operation).\r\n\t */\r\n\tpublic static magnitudeSquared(vector: Vector2d): number {\r\n\t\treturn (\r\n\t\t\t(vector.getX() * vector.getX()) +\r\n\t\t\t(vector.getY() * vector.getY())\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Rotate a vector by an angle\r\n\t */\r\n\tpublic static rotate(vector: Vector2d, angle: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(vector.getX() * Math.cos(angle)) - (vector.getY() * Math.sin(angle)),\r\n\t\t\t(vector.getX() * Math.sin(angle)) + (vector.getY() * Math.cos(angle)),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Rotates the vector about a specified point by specified angle.\r\n\t */\r\n\tpublic static rotateAbout(vectorA, angle, vectorB): Vector2d {\r\n\t\tlet cos = Math.cos(angle);\r\n\t\tlet sin = Math.sin(angle);\r\n\t\tlet x = vectorB.x + ((vectorA.x - vectorB.x) * cos - (vectorA.y - vectorB.y) * sin);\r\n\t\tlet y = vectorB.y + ((vectorA.x - vectorB.x) * sin + (vectorA.y - vectorB.y) * cos);\r\n\t\treturn new Vector2d(x, y);\r\n\t}\r\n\r\n\tpublic static isLessOrEqual(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() <= vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() <= vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static isGreaterOrEqual(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() >= vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() >= vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static isLess(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() < vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() < vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static isGreater(vectorA: Vector2d, vectorB: Vector2d) {\r\n\t\treturn (\r\n\t\t\t(vectorA.getX() > vectorB.getX()) &&\r\n\t\t\t(vectorA.getY() > vectorB.getY())\r\n\t\t);\r\n\t}\r\n\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\r\n\tconstructor(x?: number, y?: number) {\r\n\t\tthis.x = x || 0;\r\n\t\tthis.y = y || 0;\r\n\t}\r\n\r\n\tpublic getX(): number {\r\n\t\treturn this.x;\r\n\t}\r\n\r\n\tpublic getY(): number {\r\n\t\treturn this.y;\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return set the components of the vector\r\n\t * with black magic\r\n\t */\r\n\tpublic set(vec: Vector2d): Vector2d;\r\n\tpublic set(x: number, y: number): Vector2d;\r\n\r\n\tpublic set(xOrVec: any, y?: number): any {\r\n\t\tif (typeof xOrVec === \"object\") {\r\n\t\t\tthis.x = xOrVec.x;\r\n\t\t\tthis.y = xOrVec.y;\r\n\t\t} else if (typeof xOrVec === \"number\" && typeof y === \"number\") {\r\n\t\t\tthis.x = xOrVec;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setX(x: number): Vector2d {\r\n\t\tthis.x = x;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setY(y: number): Vector2d {\r\n\t\tthis.y = y;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Modifies, return vector with zero coordinates\r\n\t */\r\n\tpublic setZero(): Vector2d {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Return new vector, copy of the vector\r\n\t */\r\n\tpublic copy(): Vector2d {\r\n\t\treturn new Vector2d(this.x, this.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the magnitude of the vector\r\n\t */\r\n\tpublic mag(): number {\r\n\t\treturn (Math.sqrt(\r\n\t\t\t(this.x * this.x) +\r\n\t\t\t(this.y * this.y),\r\n\t\t));\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the magnitude of the vector, squared\r\n\t */\r\n\tpublic magSq(): number {\r\n\t\treturn ((this.x * this.x) + (this.y * this.y));\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return adds one vector to another\r\n\t */\r\n\tpublic add(vec: Vector2d): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x + vec.x),\r\n\t\t\t(this.y + vec.y),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return subs one vector from another\r\n\t */\r\n\tpublic sub(vec: Vector2d): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x - vec.x),\r\n\t\t\t(this.y - vec.y),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return multiplies a vector by a scalar\r\n\t */\r\n\tpublic mult(scalar: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x * scalar),\r\n\t\t\t(this.y * scalar),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return divide a vector by a scalar\r\n\t */\r\n\tpublic div(scalar: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x / scalar),\r\n\t\t\t(this.y / scalar),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the distance between two points\r\n\t */\r\n\tpublic dist(vec: Vector2d): number {\r\n\t\treturn Math.sqrt(\r\n\t\t\tMath.pow(this.x - vec.x, 2) +\r\n\t\t\tMath.pow(this.y - vec.y, 2),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Return scalar, the dot product of two vectors\r\n\t */\r\n\tpublic dot(vec: Vector2d): number {\r\n\t\treturn (this.x * vec.x) + (this.y * vec.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return normalize the vector to a length of 1\r\n\t */\r\n\tpublic normalize(): Vector2d {\r\n\t\treturn this.div(this.mag());\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return limit the magnitude of the vector\r\n\t */\r\n\tpublic limit(scalar: number): Vector2d {\r\n\t\tif (this.magSq() > scalar * scalar) {\r\n\t\t\tthis.normalize().mult(scalar);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return set the magnitude of the vector\r\n\t */\r\n\tpublic setMag(scalar: number): Vector2d {\r\n\t\treturn this.normalize().mult(scalar);\r\n\t}\r\n\r\n\t/**\r\n\t * Return angle of rotation for this vector\r\n\t */\r\n\tpublic heading():number {\r\n\t\treturn Math.atan2(this.y, this.x);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return rotate the vector by an angle\r\n\t */\r\n\tpublic rotate(angle: number): Vector2d {\r\n\t\treturn new Vector2d(\r\n\t\t\t(this.x * Math.cos(angle)) - (this.y * Math.sin(angle)),\r\n\t\t\t(this.x * Math.sin(angle)) + (this.y * Math.cos(angle)),\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return linear interpolate the vector to another vector\r\n\t */\r\n\tpublic lerp(vec: Vector2d, amount: number): Vector2d {\r\n\t\tif (amount > 1) { amount = 1; }\r\n\t\tif (amount < 0) { amount = 0; }\r\n\t\treturn this.mult(amount).add(vec.copy().mult(1 - amount));\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies, return inverted vector direction\r\n\t */\r\n\tpublic invert(): Vector2d {\r\n\t\tlet x = this.x * -1;\r\n\t\tlet y = this.y * -1;\r\n\t\treturn new Vector2d(x, y);\r\n\t}\r\n\r\n\t/**\r\n\t * positioning\r\n\t * something to do with the camera\r\n\t */\r\n\tpublic positioning(camera): Vector2d {\r\n\t\treturn this.invert().rotate(camera.rotation).mult(camera.zoom).add(camera.focus);\r\n\t}\r\n\r\n\t/**\r\n\t * toArray\r\n\t */\r\n\tpublic toArray(): number[] {\r\n\t\treturn [this.x, this.y];\r\n\t}\r\n\r\n\t/**\r\n\t * toString\r\n\t */\r\n\tpublic toString(): string {\r\n\t\treturn \"x:\" +\r\n\t\t\tthis.x.toFixed(2) +\r\n\t\t\t\", y:\" +\r\n\t\t\tthis.y.toFixed(2) +\r\n\t\t\t\" \";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/math/vector2d.ts","import Vector2d from \"../math/vector2d\";\r\n\r\nexport default class Utils {\r\n\tpublic static captureMouse(element: HTMLElement) {\r\n\t\tlet mouse = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tLButton: { code: 0, pressed: false },\r\n\t\t\tRButton: { code: 2, pressed: false },\r\n\t\t\tMButton: { code: 1, pressed: false },\r\n\t\t\tWheelUp: {\r\n\t\t\t\tclick: false,\r\n\t\t\t\tget pressed() {\r\n\t\t\t\t\tif (this.click) {\r\n\t\t\t\t\t\tthis.click = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tWheelDown: {\r\n\t\t\t\tclick: false,\r\n\t\t\t\tget pressed() {\r\n\t\t\t\t\tif (this.click) {\r\n\t\t\t\t\t\tthis.click = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\telement.oncontextmenu = function (a) {\r\n\t\t\ta.preventDefault();\r\n\t\t};\r\n\r\n\t\telement.addEventListener('mousemove', function (event) {\r\n\t\t\tlet x, y;\r\n\t\t\tlet mouse_event = eventPositionCapture(x, y, event, element);\r\n\t\t\tmouse.x = mouse_event.x;\r\n\t\t\tmouse.y = mouse_event.y;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('mousedown', function (event) {\r\n\t\t\tlet name;\r\n\t\t\tfor (name in mouse) {\r\n\t\t\t\tif (mouse.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (mouse[name].code === event.button) {\r\n\t\t\t\t\t\tmouse[name].pressed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('mouseup', function (event) {\r\n\t\t\tlet buttonName;\r\n\t\t\tfor (let name in mouse) {\r\n\t\t\t\tif (mouse.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (mouse[name].code === event.button) {\r\n\t\t\t\t\t\tmouse[name].pressed = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('wheel', function (event) {\r\n\t\t\tif (event.deltaY < 0) {\r\n\t\t\t\tmouse[\"WheelUp\"].click = true;\r\n\t\t\t} else {\r\n\t\t\t\tmouse[\"WheelDown\"].click = true;\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\treturn mouse;\r\n\t};\r\n\r\n\tpublic static captureTouch(element: HTMLElement) {\r\n\t\tlet touch = { x: null, y: null, isPressed: false };\r\n\r\n\t\telement.addEventListener('touchstart', function (event) {\r\n\t\t\ttouch.isPressed = true;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('touchend', function (event) {\r\n\t\t\ttouch.isPressed = false;\r\n\t\t\ttouch.x = null;\r\n\t\t\ttouch.y = null;\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener('touchmove', function (event) {\r\n\t\t\tlet x, y;\r\n\t\t\tlet touch_event = eventPositionCapture(x, y, event.touches[0], element);\r\n\t\t\ttouch.x = touch_event.x;\r\n\t\t\ttouch.y = touch_event.y;\r\n\t\t}, false);\r\n\r\n\t\treturn touch;\r\n\t}\r\n\r\n\tpublic static captureKeyboard(element: Window) {\r\n\t\tlet key = {\r\n\t\t\tleft: { code: 37, pressed: false },\r\n\t\t\tright: { code: 39, pressed: false },\r\n\t\t\tup: { code: 38, pressed: false },\r\n\t\t\tdown: { code: 40, pressed: false },\r\n\t\t\tw: { code: 87, pressed: false },\r\n\t\t\ta: { code: 65, pressed: false },\r\n\t\t\ts: { code: 83, pressed: false },\r\n\t\t\td: { code: 68, pressed: false },\r\n\t\t\te: { code: 69, pressed: false },\r\n\t\t\tq: { code: 81, pressed: false },\r\n\t\t\tx: { code: 88, pressed: false },\r\n\t\t\tz: { code: 90, pressed: false },\r\n\t\t\tNumpadAdd: { code: 107, pressed: false },\r\n\t\t\tNumpadSub: { code: 109, pressed: false }\r\n\t\t};\r\n\r\n\t\telement.addEventListener(\"keydown\", function (event) {\r\n\t\t\tlet name;\r\n\t\t\tfor (name in key) {\r\n\t\t\t\tif (key.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (key[name].code === event.keyCode) {\r\n\t\t\t\t\t\tkey[name].pressed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\telement.addEventListener(\"keyup\", function (event) {\r\n\t\t\tvar name;\r\n\t\t\tfor (name in key) {\r\n\t\t\t\tif (key.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (key[name].code === event.keyCode) {\r\n\t\t\t\t\t\tkey[name].pressed = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, false);\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\t// do we realy need this method?\r\n\tpublic static colorToRGB(color: any, alpha: number) {\r\n\t\tif (typeof color === 'string' && color[0] === '#') {\r\n\t\t\tcolor = parseInt(color.slice(1), 16);\r\n\t\t}\r\n\t\talpha = (alpha === undefined) ? 1 : alpha;\r\n\r\n\t\tlet r = color >> 16 & 0xff;\r\n\t\tlet g = color >> 8 & 0xff;\r\n\t\tlet b = color & 0xff;\r\n\t\tlet a = (alpha < 0) ? 0 : ((alpha > 1) ? 1 : alpha);\r\n\r\n\t\tif (a === 1) {\r\n\t\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n\t\t} else {\r\n\t\t\treturn \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Convert HSB color into string \"rgb(r,g,b)\"\r\n\t *\r\n\t * @param {number} hue in degrees (from 0 to 360)\r\n\t * @param {number} saturation in percent (from 0 to 100)\r\n\t * @param {number} brightness in percent (from 0 to 100)\r\n\t * @param {boolean} radians if true, used hue in radians\r\n\t * @return {string} color string \"rgb(r,g,b)\"\r\n\t */\r\n\tpublic static HSBtoRGB(hue?, saturation?, brightness?, radians?) {\r\n\t\tif (hue === undefined) { hue = 0; }\r\n\t\tif (saturation === undefined) { saturation = 75; }\r\n\t\tif (brightness === undefined) { brightness = 75; }\r\n\t\tif (radians === undefined) { radians = false; }\r\n\r\n\t\tif (radians) { hue *= 180 / Math.PI; }\r\n\t\tlet HSB = {\r\n\t\t\th: hue % 360,\r\n\t\t\ts: saturation / 100,\r\n\t\t\tb: brightness / 100\r\n\t\t};\r\n\t\tlet RGB = {\r\n\t\t\tr: null,\r\n\t\t\tg: null,\r\n\t\t\tb: null,\r\n\t\t\tcolor: function () {\r\n\t\t\t\treturn \"rgb(\" + Math.round(this.r) +\r\n\t\t\t\t\t\",\" + Math.round(this.g) +\r\n\t\t\t\t\t\",\" + Math.round(this.b) + \")\";\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet chroma;\r\n\t\tlet hueI;\r\n\t\tlet x;\r\n\t\tlet m;\r\n\r\n\t\tif (HSB.h < 0) {\r\n\t\t\tHSB.h += 360;\r\n\t\t}\r\n\t\tif (HSB.s > 100) {\r\n\t\t\tHSB.s = 100;\r\n\t\t} else if (HSB.s < 0) {\r\n\t\t\tHSB.s = 0;\r\n\t\t}\r\n\r\n\t\tif (HSB.b > 100) {\r\n\t\t\tHSB.b = 100;\r\n\t\t} else if (HSB.b < 0) {\r\n\t\t\tHSB.b = 0;\r\n\t\t}\r\n\r\n\t\tchroma = HSB.s * HSB.b;\r\n\t\thueI = HSB.h / 60;\r\n\r\n\t\tx = chroma * (1 - Math.abs(hueI % 2 - 1));\r\n\t\tswitch (Math.floor(hueI)) {\r\n\t\t\tcase 0:\r\n\t\t\t\tRGB.r = chroma;\r\n\t\t\t\tRGB.g = x;\r\n\t\t\t\tRGB.b = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tRGB.r = x;\r\n\t\t\t\tRGB.g = chroma;\r\n\t\t\t\tRGB.b = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tRGB.r = 0;\r\n\t\t\t\tRGB.g = chroma;\r\n\t\t\t\tRGB.b = x;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tRGB.r = 0;\r\n\t\t\t\tRGB.g = x;\r\n\t\t\t\tRGB.b = chroma;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tRGB.r = x;\r\n\t\t\t\tRGB.g = 0;\r\n\t\t\t\tRGB.b = chroma;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tRGB.r = chroma;\r\n\t\t\t\tRGB.g = 0;\r\n\t\t\t\tRGB.b = x;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tm = HSB.b - chroma;\r\n\t\tRGB.r += m;\r\n\t\tRGB.g += m;\r\n\t\tRGB.b += m;\r\n\t\tRGB.r *= 255;\r\n\t\tRGB.g *= 255;\r\n\t\tRGB.b *= 255;\r\n\r\n\t\treturn RGB.color();\r\n\t}\r\n\r\n\t/**\r\n\t * Convert HSB color into number\r\n\t *\r\n\t * @param {number} hue in degrees (from 0 to 360)\r\n\t * @param {number} saturation in percent (from 0 to 100)\r\n\t * @param {number} brightness in percent (from 0 to 100)\r\n\t * @param {boolean} radians if true, used hue in radians\r\n\t * @return {number} color number\r\n\t */\r\n\tpublic static HSBtoNumber(hue?, saturation?, brightness?, radians?) {\r\n\t\tif (hue === undefined) { hue = 0; }\r\n\t\tif (saturation === undefined) { saturation = 75; }\r\n\t\tif (brightness === undefined) { brightness = 75; }\r\n\t\tif (radians === undefined) { radians = false; }\r\n\r\n\t\tif (radians) { hue *= 180 / Math.PI; }\r\n\r\n\t\tvar h, s, v, r, g, b, i, f, p, q, t;\r\n\t\th = hue / 360; s = saturation / 100; v = brightness / 100;\r\n\t\ti = Math.floor( h * 6 );\r\n\t\tf = h * 6 - i;\r\n\t\tp = v * ( 1 - s );\r\n\t\tq = v * ( 1 - f * s );\r\n\t\tt = v * ( 1 - ( 1 - f ) * s );\r\n\r\n\t\tswitch( i % 6 ) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\tr = v; g = t; b = p;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tr = q; g = v; b = p;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tr = p; g = v; b = t;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tr = p; g = q; b = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tr = t; g = p; b = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tr = v; g = p; b = q;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic parseColor(color, toNumber) {\r\n\t\tif (toNumber === true) {\r\n\t\t\tif (typeof color === 'number') {\r\n\t\t\t\treturn (color | 0); // chop off decimal\r\n\t\t\t}\r\n\t\t\tif (typeof color === 'string' && color[0] === '#') {\r\n\t\t\t\tcolor = color.slice(1);\r\n\t\t\t}\r\n\t\t\treturn parseInt(color, 16);\r\n\t\t} else {\r\n\t\t\tif (typeof color === 'number') {\r\n\t\t\t\t// make sure our hexadecimal number is padded out\r\n\t\t\t\tcolor = '#' + ('00000' + (color | 0).toString(16)).substr(-6);\r\n\t\t\t}\r\n\t\t\treturn color;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static containsPoint(rect, x, y) {\r\n\t\treturn !(x < rect.x || x > rect.x + rect.width ||\r\n\t\t\ty < rect.y || y > rect.y + rect.height);\r\n\t}\r\n\r\n\tpublic static angleNormalize(angle) {\r\n\t\treturn Math.atan2(Math.sin(angle), Math.cos(angle));\r\n\t}\r\n}\r\n\r\n\r\nfunction eventPositionCapture(x, y, event, element) {\r\n\tif (event.pageX || event.pageY) {\t\t//     ? O_o\r\n\t\tx = event.pageX;\r\n\t\ty = event.pageY;\r\n\t} else {\r\n\t\tx = event.clientX + document.body.scrollLeft +\r\n\t\t\tdocument.documentElement.scrollLeft;\r\n\t\ty = event.clientY + document.body.scrollTop +\r\n\t\t\tdocument.documentElement.scrollTop;\r\n\t}\r\n\tx -= element.offsetLeft;\r\n\ty -= element.offsetTop;\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/utils.ts","import Vector2d from \"../math/vector2d\";\r\n\r\n// Axis Aligned Bounding Box\r\nexport default class BoundingBox {\r\n\r\n\tpublic static overlaps(boxA: BoundingBox, boxB: BoundingBox): boolean {\r\n\t\treturn (\r\n\t\t\tVector2d.isLessOrEqual(boxA.bound.min, boxB.bound.max) &&\r\n\t\t\tVector2d.isLessOrEqual(boxB.bound.min, boxA.bound.max)\r\n\t\t);\r\n\t}\r\n\r\n\tpublic bound = {\r\n\t\tmax: <Vector2d> null,\r\n\t\tmin: <Vector2d> null,\r\n\t};\r\n\r\n\tconstructor(options?) {\r\n\t\toptions = options || {};\r\n\t\tthis.bound.min = options.lowerBound ? Vector2d.clone(options.lowerBound) : new Vector2d();\r\n\t\tthis.bound.max = options.upperBound ? Vector2d.clone(options.upperBound) : new Vector2d();\r\n\t}\r\n\r\n\tpublic extend(box: BoundingBox) {\r\n\t\tlet max = this.bound.max;\r\n\t\tlet min = this.bound.min;\r\n\t\tif (Vector2d.isGreater(max, box.bound.max)) {\r\n\t\t\tmax = box.bound.max;\r\n\t\t}\r\n\t\tif (Vector2d.isLess(min, box.bound.min)) {\r\n\t\t\tmin = box.bound.min;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.save();\r\n\t\tcontext.translate(this.bound.min.getX(), this.bound.min.getY());\r\n\t\tcontext.beginPath();\r\n\t\tcontext.rect(0, 0, this.bound.max.getX() - this.bound.min.getX(), this.bound.max.getY() - this.bound.min.getY());\r\n\t\tcontext.lineWidth = 0.5;\r\n\t\tcontext.strokeStyle = \"#00ff00\";\r\n\t\tcontext.stroke();\r\n\t\tcontext.restore();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/collision/AABB.ts","import Rectangle from \"../lib/rectangle\";\r\n\r\nexport default class Node {\r\n\tprotected static TOP_LEFT = 0;\r\n\tprotected static TOP_RIGHT = 1;\r\n\tprotected static BOTTOM_LEFT = 2;\r\n\tprotected static BOTTOM_RIGHT = 3;\r\n\r\n\tpublic nodes: any[] = null;\r\n\tpublic children: any[] = null;\r\n\tpublic bounds: Rectangle = null;\r\n\r\n\tprotected classConstructor = Node;\r\n\tprotected depth = 0;\r\n\tprotected maxChildren = 4;\r\n\tprotected maxDepth = 4;\r\n\r\n\tconstructor(bounds: Rectangle, depth: number, maxDepth: number, maxChildren: number) {\r\n\t\tthis.bounds = bounds;\r\n\t\tthis.children = [];\r\n\t\tthis.nodes = [];\r\n\t}\r\n\r\n\tpublic insert(item) {\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\tthis.nodes[index].insert(item);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.children.push(item);\r\n\t\tlet len = this.children.length;\r\n\t\tif (!(this.depth >= this.maxDepth) && len > this.maxChildren) {\r\n\t\t\tthis.subdivide();\r\n\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\tthis.insert(this.children[i]);\r\n\t\t\t}\r\n\t\t\tthis.children.length = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic retrieve(item) {\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\treturn this.nodes[index].retrieve(item);\r\n\t\t}\r\n\t\treturn this.children;\r\n\t}\r\n\r\n\tpublic subdivide() {\r\n\t\tlet depth = this.depth + 1;\r\n\t\tlet bx = this.bounds.x;\r\n\t\tlet by = this.bounds.y;\r\n\r\n\t\t// floor the values\r\n\t\tlet b_w_h = (this.bounds.width / 2);\r\n\t\tlet b_h_h = (this.bounds.height / 2);\r\n\t\tlet bx_b_w_h = bx + b_w_h;\r\n\t\tlet by_b_h_h = by + b_h_h;\r\n\r\n\t\t// top left\r\n\t\tthis.nodes[Node.TOP_LEFT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx, by, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\r\n\t\t// top right\r\n\t\tthis.nodes[Node.TOP_RIGHT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx_b_w_h, by, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\r\n\t\t// bottom left\r\n\t\tthis.nodes[Node.BOTTOM_LEFT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx, by_b_h_h, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\r\n\t\t// bottom right\r\n\t\tthis.nodes[Node.BOTTOM_RIGHT] = new this.classConstructor(\r\n\t\t\tnew Rectangle(bx_b_w_h, by_b_h_h, b_w_h, b_h_h),\r\n\t\t\tdepth, this.maxDepth, this.maxChildren);\r\n\t}\r\n\r\n\tpublic clear() {\r\n\t\tthis.children.length = 0;\r\n\t\tlet len = this.nodes.length;\r\n\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\tthis.nodes[i].clear();\r\n\t\t}\r\n\t\tthis.nodes.length = 0;\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tlet bounds = this.bounds;\r\n\r\n\t\tbounds.draw(context);\r\n\r\n\t\tlet len = this.nodes.length;\r\n\t\tfor (let node of this.nodes) {\r\n\t\t\tnode.draw(context);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected findIndex(item) {\r\n\t\tlet b = this.bounds;\r\n\t\tlet left = (item.position.x > b.x + b.width / 2) ? false : true;\r\n\t\tlet top = (item.position.y > b.y + b.height / 2) ? false : true;\r\n\t\t// top left\r\n\t\tlet index = Node.TOP_LEFT;\r\n\t\tif (left) {\r\n\t\t\t// left side\r\n\t\t\tif (!top) {\r\n\t\t\t\t// bottom left\r\n\t\t\t\tindex = Node.BOTTOM_LEFT;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// right side\r\n\t\t\tif (top) {\r\n\t\t\t\t// top right\r\n\t\t\t\tindex = Node.TOP_RIGHT;\r\n\t\t\t} else {\r\n\t\t\t\t// bottom right\r\n\t\t\t\tindex = Node.BOTTOM_RIGHT;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/quad-tree/node.ts","import Node from \"../quad-tree/node\";\r\n\r\nexport default class Rectangle {\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\tpublic width: number;\r\n\tpublic height: number;\r\n\tconstructor(x, y, width, height) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.save();\r\n\t\tcontext.translate(this.x, this.y);\r\n\t\tcontext.scale(1, 1);\r\n\t\tcontext.lineWidth = 2;\r\n\r\n\t\tcontext.strokeStyle = \"#2B2B2B\";\r\n\t\tcontext.globalAlpha = 1;\r\n\r\n\t\tcontext.save();\r\n\r\n\t\tcontext.beginPath();\r\n\t\tcontext.rect(0, 0, this.width, this.height);\r\n\t\tcontext.stroke();\r\n\r\n\t\tcontext.restore();\r\n\t\tcontext.restore();\r\n\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/lib/rectangle.ts","import Vector2d from \"./math/vector2d\";\r\nimport Utils from \"./type-script/utils\";\r\nimport Tank from \"./type-script/tank\";\r\nimport Box from \"./type-script/box\";\r\nimport Camera from \"./type-script/camera\";\r\n\r\nimport QuadTree from \"./quad-tree/quad-tree\";\r\nimport Rectangle from \"./lib/rectangle\";\r\nimport BoundingBox from \"./collision/AABB\";\r\n\r\n\r\nlet canvas = <HTMLCanvasElement> document.getElementById(\"canvas\");\r\nlet context = <CanvasRenderingContext2D> canvas.getContext(\"2d\");\r\nlet mouse = Utils.captureMouse(canvas);\r\nlet keyboard = Utils.captureKeyboard(window);\r\nlet log = document.getElementById(\"log\");\r\n\r\n\r\nlet tanks: Tank[] = [];\r\nlet tanksAmount = 10;\r\nlet player = 0;\r\nfor (let i = 0; i < tanksAmount; i++) {\r\n\ttanks.push(new Tank(Math.random() * 1000, Math.random() * 1000));\r\n\ttanks[i].color = Utils.HSBtoRGB(Math.random() * 360, 75, 75);\r\n}\r\n\r\nlet box = new Box();\r\nlet cam = new Camera();\r\n\r\n// QuadTree\r\nlet bounds = new Rectangle(0, 0, 1000, 1000);\r\nlet tree = new QuadTree(bounds, false, 7);\r\n\r\nlet camTarget = new Vector2d((<any>canvas).width / 2, (<any>canvas).height / 2);\r\nlet easing = 0.08;\r\n\r\n(function drawFrame() {\r\n\t(<any>window).requestAnimationFrame(drawFrame, canvas);\r\n\t(<any>canvas).width = window.innerWidth;\r\n\t(<any>canvas).height = window.innerHeight;\r\n\r\n\tif (keyboard.x.pressed) {\r\n\t\tkeyboard.x.pressed = false;\r\n\t\tif (player < tanksAmount - 1) {\r\n\t\t\tplayer++;\r\n\t\t} else {\r\n\t\t\tplayer = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tif (keyboard.z.pressed) {\r\n\t\tkeyboard.z.pressed = false;\r\n\t\tif (player - 1 > -1) {\r\n\t\t\tplayer--;\r\n\t\t} else {\r\n\t\t\tplayer = tanksAmount - 1;\r\n\t\t}\r\n\t}\r\n\r\n\ttanks[player].player(keyboard, mouse, cam);\r\n\r\n\tcam.manipulation(keyboard, mouse);\r\n\r\n\tlet v = (tanks[player].position.sub(camTarget)).mult(easing);\r\n\tcamTarget = camTarget.add(v);\r\n\r\n\tcam.focusing(canvas, camTarget);\r\n\r\n\tcontext.save();\r\n\r\n\tcam.draw(context);\r\n\r\n\tcontext.fillStyle = \"green\";\r\n\tcontext.fillRect(1, 1, 100, 100);\r\n\tcontext.fillRect(-432, -153, 100, 100);\r\n\tcontext.fillRect(-565, 300, 100, 100);\r\n\tcontext.fillRect(123, -215, 100, 100);\r\n\tcontext.fillRect(-133, 132, 100, 100);\r\n\r\n\tfor (let tank of tanks) {\r\n\t\ttank.update();\r\n\t\ttank.updateBoundingBox();\r\n\t\ttank.draw(context);\r\n\t\ttank.boundingBox.draw(context);\r\n\t}\r\n\r\n\ttanks[player].drawHelp(context);\r\n\tbox.draw(context);\r\n\r\n\t// tree.boundingBox(tanks);\r\n\ttree.bruteForce(tanks); // temporarily\r\n\r\n\ttree.draw(context); // draw virtual quad-tree greed\r\n\r\n\tcontext.restore();\r\n\r\n\t// context.fillStyle = \"red\";\r\n\t// context.fillRect((target.x)-5, (target.y), +5, +5);\r\n\t// context.fillStyle = \"red\";\r\n\t// context.fillRect((target2.x)-5, (target2.y)-5, +5, +5);\r\n\r\n\t(<any>log).value = null;\r\n\r\n\t(<any>log).value += \"--- canvas ---\" + \"\\n\";\r\n\t(<any>log).value += \"cam \" + cam.toString() + \"\\n\";\r\n\r\n\t(<any>log).value += \"--- tank ---\" + \"\\n\";\r\n\t(<any>log).value += \"play tank #\" + player + \"\\n\";\r\n\t(<any>log).value += \"tank \" + tanks[player].toString() + \"\\n\";\r\n\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/main.ts","import Utils from \"./utils\";\r\nimport Vector2d from \"../math/vector2d\";\r\nimport BoundingBox from \"../collision/AABB\";\r\n\r\nexport default class Tank {\r\n\tpublic pull: Vector2d;\r\n\tpublic position: Vector2d = new Vector2d();\r\n\tpublic color = Utils.HSBtoRGB(360, 75, 75);\r\n\tpublic direction: Vector2d = new Vector2d();\r\n\r\n\tpublic rotation: number = 0;\r\n\tpublic speed: number = 5;\r\n\r\n\tpublic positionRotation: number = 0;\r\n\tpublic target: Vector2d = new Vector2d();\r\n\tpublic targetRotation: number = 0;\r\n\r\n\tpublic scaleX: number = 1;\r\n\tpublic scaleY: number = 1;\r\n\tpublic lineWidth: number = 2;\r\n\tpublic transparency: number = 1;\r\n\r\n\t// specially for quard-tree\r\n\tpublic width: number = 5;\r\n\tpublic height: number = 5;\r\n\tpublic radius: number = 20;\r\n\tpublic isColliding: boolean = false;\r\n\r\n\t// specially for Axis Aligned Bounding Box\r\n\tpublic boundingBox: BoundingBox;\r\n\tpublic isCollidingboundingBox: boolean = false;\r\n\tpublic option: any = {\r\n\t\tlowerBound: null as Vector2d,\r\n\t\tupperBound: null as Vector2d,\r\n\t};\r\n\r\n\tpublic object = {\r\n\t\tgun: {\r\n\t\t\tlength: 30 as number,\r\n\t\t\twidth: 10 as number,\r\n\t\t\tturretRadius: 10 as number,\r\n\t\t},\r\n\t\ttank: {\r\n\t\t\tlength: 40 as number,\r\n\t\t\twidth: 30 as number,\r\n\t\t},\r\n\t\ttank2: [\r\n\t\t\tnew Vector2d(-20, -15 ),\r\n\t\t\tnew Vector2d(20, -15 ),\r\n\t\t\tnew Vector2d(20, 15 ),\r\n\t\t\tnew Vector2d(-20, 15 ),\r\n\t\t\tnew Vector2d(20, 0 ),\r\n\t\t] as Vector2d[],\r\n\t};\r\n\r\n\tpublic tankRotated: Vector2d[];\r\n\r\n\r\n\r\n\tconstructor(x?, y?) {\r\n\t\tthis.pull = new Vector2d(x, y) || new Vector2d();\r\n\t}\r\n\r\n\tpublic player(keyboard, mouse, camera) {\r\n\t\tthis.targetRotation = Vector2d.angleTo(\r\n\t\t\tthis.target.set(mouse),\r\n\t\t\tcamera.targeting(this.position)\r\n\t\t\t// this.position.mult(camera.zoom).rotate(camera.rotation).add(camera.position)\r\n\t\t) - camera.rotation;\r\n\r\n\t\tvar speed = 0;\r\n\t\tif (keyboard.up.pressed || keyboard.w.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(-Math.PI / 2 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.down.pressed || keyboard.s.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(Math.PI / 2 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.left.pressed || keyboard.a.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(Math.PI - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tif (keyboard.right.pressed || keyboard.d.pressed) {\r\n\t\t\tthis.direction = this.direction.add(Vector2d.fromAngle(0 - camera.rotation));\r\n\t\t\tspeed = this.speed;\r\n\t\t}\r\n\t\tthis.direction = this.direction.normalize();\r\n\t\tthis.pull = this.pull.add(this.direction.mult(speed));\r\n\t\t// this.direction.setZero();\r\n\t}\r\n\r\n\tpublic update() {\r\n\t\tthis.positionRotation = Vector2d.angleTo(this.pull, this.position);\r\n\t\tthis.position.x = this.pull.x - Math.cos(this.positionRotation) * 18;\r\n\t\tthis.position.y = this.pull.y - Math.sin(this.positionRotation) * 18;\r\n\t}\r\n\r\n\tpublic updateBoundingBox() {\r\n\r\n\t\tlet tankRotated: Vector2d[] = [];\r\n\r\n\t\tfor (let point of this.object.tank2) {\r\n\t\t\ttankRotated.push(Vector2d.rotateAbout(\r\n\t\t\t\tVector2d.clone(this.position).add(point),\r\n\t\t\t\tthis.positionRotation,\r\n\t\t\t\tthis.position,\r\n\t\t\t));\r\n\t\t}\r\n\t\tlet min = Vector2d.clone(this.position);\r\n\t\tlet max =  Vector2d.clone(this.position);\r\n\r\n\t\tfor (let point of tankRotated) {\r\n\t\t\tif (point.getX() < min.getX()) {\r\n\t\t\t\tmin.setX(point.getX());\r\n\t\t\t}\r\n\t\t\tif (point.getY() < min.getY()) {\r\n\t\t\t\tmin.setY(point.getY());\r\n\t\t\t}\r\n\t\t\tif (point.getX() > max.getX()) {\r\n\t\t\t\tmax.setX(point.getX());\r\n\t\t\t}\r\n\t\t\tif (point.getY() > max.getY()) {\r\n\t\t\t\tmax.setY(point.getY());\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.tankRotated = tankRotated;\r\n\r\n\t\tthis.option.lowerBound = min;\r\n\t\tthis.option.upperBound = max;\r\n\t\tthis.boundingBox = new BoundingBox(this.option);\r\n\t}\r\n\r\n\tpublic draw(ctx) {\r\n\t\tctx.save();\r\n\t\tctx.translate(this.position.x, this.position.y);\r\n\t\tctx.rotate(this.rotation);\r\n\t\tctx.scale(this.scaleX, this.scaleY);\r\n\t\tctx.lineWidth = this.lineWidth;\r\n\t\tctx.lineJoin = \"round\";\r\n\t\tctx.lineCap = \"round\";\r\n\r\n\t\tctx.fillStyle = this.color;\r\n\r\n\r\n\t\tif (this.isColliding) {\r\n\t\t\tctx.strokeStyle = \"#c40000\";\r\n\t\t\tthis.isColliding = false;\r\n\t\t} else {\r\n\t\t\tctx.strokeStyle = \"#191919\";\r\n\t\t}\r\n\r\n\t\tctx.globalAlpha = this.transparency;\r\n\r\n\t\tctx.save();\r\n\t\tctx.rotate(this.positionRotation);\r\n\t\tthis.tank2Path(ctx);\r\n\t\tctx.restore();\r\n\r\n\t\tctx.save();\r\n\t\tctx.rotate(this.targetRotation);\r\n\t\tthis.gunPath(ctx);\r\n\t\tctx.restore();\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tpublic drawHelp(ctx) {\r\n\t\tlet scale = 1;\r\n\t\tctx.save();\r\n\r\n\t\tctx.translate(this.position.x, this.position.y);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.fillStyle = \"#ff0000\";\r\n\t\tctx.strokeStyle = \"#00ff00\";\r\n\t\tctx.lineWidth = 0.5;\r\n\t\tctx.lineJoin = \"round\";\r\n\t\tctx.lineCap = \"round\";\r\n\t\tctx.scale(scale, scale);\r\n\r\n\t\tfunction pointDraw(rotation, positionX, positionY) {\r\n\t\t\tif (rotation === undefined) { rotation = 0; }\r\n\t\t\tif (positionX === undefined) { positionX = 0; }\r\n\t\t\tif (positionY === undefined) { positionY = 0; }\r\n\t\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rotate(rotation);\r\n\t\t\tctx.arc(positionX, positionY, 2, 0, (Math.PI * 2), false);\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.fill();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tfunction arcAngleDraw(angle1, angle2, radius) {\r\n\t\t\tif (angle1 === undefined) { angle1 = 0; }\r\n\t\t\tif (angle2 === undefined) { angle2 = 0; }\r\n\t\t\tif (radius === undefined) { radius = 10; }\r\n\t\t\tangle1 = Utils.angleNormalize(angle1);\r\n\t\t\tangle2 = Utils.angleNormalize(angle2);\r\n\t\t\tlet difference = angle1 - angle2;\r\n\t\t\tctx.save();\r\n\t\t\tctx.beginPath();\r\n\t\t\tif (Math.sin(difference) > 0) {\r\n\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), true);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(0, 0, radius, (angle1), (angle2), false);\r\n\t\t\t}\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rotate(this.positionRotation);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(50, 0);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rotate(this.targetRotation);\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(50, 0);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\r\n\r\n\t\t// pointDraw(this.targetRotation, 50);\r\n\t\t// pointDraw(this.positionRotation, 50);\r\n\t\t// pointDraw(0,this.moveX - this.x, this.moveY - this.y);\r\n\t\tarcAngleDraw(this.targetRotation, this.positionRotation, 50);\r\n\t\t// arcAngleDraw(this.targetRotation, 0, 42);\r\n\t\t// arcAngleDraw(this.positionRotation, 0, 40);\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\tpublic toString() {\r\n\t\treturn \"position: \" + this.position.toString() + \"\\n\" +\r\n\t\t\t\"pull: \" + this.pull.toString() + \"\\n\" +\r\n\t\t\t\"direction: \" + this.direction.toString() + \"\\n\" +\r\n\t\t\t\"targetRotation: \" + this.targetRotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"positionRotation: \" + this.positionRotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"rotation: \" + this.rotation.toFixed(2) + \"\\n\" +\r\n\t\t\t\"BoundingBox: \" + this.boundingBox.bound.min.toString() + \"\\n\" +\r\n\t\t\t\"option.lowerBound: \" + this.option.lowerBound.toString() + \"\\n\" +\r\n\t\t\t\"option.upperBound: \" + this.option.upperBound.toString() + \"\\n\" +\r\n\t\t\t\"tankRotated: \" + \"\\n\" +\r\n\t\t\tthis.tankRotated[0].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[1].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[2].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[3].toString() + \"\\n\" +\r\n\t\t\tthis.tankRotated[4].toString() + \"\\n\";\r\n\t}\r\n\r\n\tprivate tankPath(ctx) {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(-this.object.tank.length / 2, -this.object.tank.width / 2, this.object.tank.length, this.object.tank.width);\r\n\t\tctx.moveTo(this.object.tank.length / 2, 0);\r\n\t\tctx.lineTo(-this.object.tank.length / 2, this.object.tank.width / 2);\r\n\t\tctx.lineTo(-this.object.tank.length / 2, -this.object.tank.width / 2);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tprivate tank2Path(ctx) {\r\n\t\tlet draw: Vector2d[] = this.object.tank2;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(draw[0].x, draw[0].y);\r\n\t\tctx.lineTo(draw[1].x, draw[1].y);\r\n\t\tctx.lineTo(draw[2].x, draw[2].y);\r\n\t\tctx.lineTo(draw[3].x, draw[3].y);\r\n\t\tctx.closePath();\r\n\t\tctx.moveTo(draw[4].x, 0);\r\n\t\tctx.lineTo(draw[3].x, draw[3].y);\r\n\t\tctx.lineTo(draw[0].x, draw[0].y);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tprivate gunPath(ctx) {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(0, -this.object.gun.width / 2, this.object.gun.length, this.object.gun.width);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(0, 0, this.object.gun.turretRadius, 0, (Math.PI * 2), false);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/tank.ts","export default class Box {\r\n\r\n\tpublic x: number= 200;\r\n\tpublic y: number = 200;\r\n\tpublic angle: number;\r\n\tprivate size: any = { height: 45, width: 45};\r\n\tprivate color = \"#9C9C9C\";\r\n\r\n\tpublic draw(ctx) {\r\n\t\tctx.save();\r\n\t\tctx.translate(this.x, this.y);\r\n\t\tctx.rotate(this.angle);\r\n\t\tctx.scale(1, 1);\r\n\t\tctx.lineWidth = 3;\r\n\r\n\t\tctx.fillStyle = this.color;\r\n\t\tctx.strokeStyle = \"#2B2B2B\";\r\n\t\tctx.globalAlpha = 1;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(-this.size.height / 2, -this.size.width / 2, this.size.height, this.size.width);\r\n\r\n\t\tctx.moveTo(this.size.height / 2, this.size.width / 2);\r\n\t\tctx.lineTo(-this.size.height / 2, -this.size.width / 2);\r\n\r\n\t\tctx.moveTo(-this.size.height / 2, this.size.width / 2);\r\n\t\tctx.lineTo(this.size.height / 2, -this.size.width / 2);\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\r\n\t\tctx.restore();\r\n\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/box.ts","import Vector2d from \"../math/vector2d\";\r\n\r\nexport default class Camera {\r\n\tpublic position: Vector2d;\r\n\tpublic zoom;\r\n\tpublic rotation;\r\n\tpublic focus: Vector2d;\r\n\r\n\tconstructor(position?, zoom?, rotation?) {\r\n\t\tthis.position = position || new Vector2d();\r\n\t\tthis.zoom     = zoom     || 1;\r\n\t\tthis.rotation = rotation || 0;\r\n\t\tthis.focus    = new Vector2d();\r\n\t}\r\n\r\n\t/**\r\n\t * targeting\r\n\t */\r\n\tpublic targeting(target: Vector2d) {\r\n\t\treturn target.mult(this.zoom).rotate(this.rotation).add(this.position);\r\n\t}\r\n\r\n\t/**\r\n\t * manipulation\r\n\t */\r\n\tpublic manipulation(keyboard, mouse) {\r\n\t\tif (keyboard.NumpadAdd.pressed || mouse.WheelUp.pressed) { this.zoom *= 1.1; }\r\n\t\tif (keyboard.NumpadSub.pressed || mouse.WheelDown.pressed) { this.zoom /= 1.1; }\r\n\r\n\t\tif (keyboard.e.pressed) { this.rotation -= 0.1; }\r\n\t\tif (keyboard.q.pressed) { this.rotation += 0.1; }\r\n\t}\r\n\r\n\tpublic focusing(canvas?: any, focus?: Vector2d) {\r\n\t\tif (focus === undefined) {\r\n\t\t\tfocus = new Vector2d();\r\n\t\t}\r\n\t\tthis.focus.set(canvas.width / 2, canvas.height / 2);\r\n\r\n\t\tthis.position = this.position.set(focus.positioning(this));\r\n\t\t// this.position.set(focus.invert().rotate(this.rotation).mult(this.zoom).add(this.focus));\r\n\t}\r\n\r\n\tpublic focusingEasing(focus) {\r\n\t// to do...\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tcontext.translate(this.position.x, this.position.y);\r\n\t\tcontext.scale(this.zoom, this.zoom);\r\n\t\tcontext.rotate(this.rotation);\r\n\t}\r\n\r\n\tpublic toString() {\r\n\treturn this.position.toString() +\r\n\t\t\"zoom: \" + this.zoom + \"\\n\" +\r\n\t\t\"rotation: \" + this.rotation + \"\\n\";\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/type-script/camera.ts","import Node from \"./node\";\r\nimport BoundsNode from \"./bounds-node\";\r\nimport Rectangle from \"../lib/rectangle\";\r\nimport BoundingBox from \"../collision/AABB\";\r\nimport Vector2d from \"../math/vector2d\";\r\n\r\nexport default class QuadTree {\r\n\tpublic root: Node & BoundsNode = null;\r\n\r\n\tconstructor(bounds: Rectangle, pointQuad: boolean, maxDepth?: number, maxChildren?: number) {\r\n\t\tlet node;\r\n\t\tif (pointQuad) {\r\n\t\t\tnode = new Node(bounds, 0, maxDepth, maxChildren);\r\n\t\t} else {\r\n\t\t\tnode = new BoundsNode(bounds, 0, maxDepth, maxChildren);\r\n\t\t}\r\n\t\tthis.root = node;\r\n\t}\r\n\r\n\tpublic insert(item: any[]): void {\r\n\t\tif (item instanceof Array) {\r\n\t\t\tlet len = item.length;\r\n\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\tthis.root.insert(item[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.root.insert(item);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic clear(): void {\r\n\t\tthis.root.clear();\r\n\t}\r\n\r\n\tpublic retrieve(item) {\r\n\t\tlet out = this.root.retrieve(item).slice(0);\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic draw(context) {\r\n\t\tlet bounds = this.root.bounds;\r\n\r\n\t\tbounds.draw(context);\r\n\r\n\t\tlet len = this.root.nodes.length;\r\n\t\tfor (let node of this.root.nodes) {\r\n\t\t\tnode.draw(context);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boundingBox(items) {\r\n\t\tthis.clear();\r\n\t\tthis.insert(items); // make virtual quad-tree greed\r\n\t\tfor (let item of items) {\r\n\t\t\tlet itemsB = this.retrieve(item);\r\n\t\t\tfor (let itemB of itemsB) {\r\n\t\t\t\tif (item === itemB) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.isColliding && itemB.isColliding) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (BoundingBox.overlaps(item.boundingBox, itemB.boundingBox)) {\r\n\t\t\t\t\titem.isColliding = true;\r\n\t\t\t\t\titemB.isColliding = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boundingCircle(items) {\r\n\t\tthis.clear();\r\n\r\n\t\tthis.insert(items); // make virtual quad-tree greed\r\n\t\tfor (let item of items) {\r\n\t\t\tlet itemsB = this.retrieve(item);\r\n\t\t\tfor (let itemB of itemsB) {\r\n\t\t\t\tif (item === itemB) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.isColliding && itemB.isColliding) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet d: Vector2d = item.position.sub(itemB.position);\r\n\t\t\t\tlet radii = item.radius + itemB.radius;\r\n\t\t\t\tlet colliding = d.magSq() < (radii * radii);\r\n\t\t\t\tif (!item.isColliding) {\r\n\t\t\t\t\titem.isColliding = colliding;\r\n\t\t\t\t}\r\n\t\t\t\tif (!itemB.isColliding) {\r\n\t\t\t\t\titemB.isColliding = colliding;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic bruteForce(items) {\r\n\t\tfor (let item of items) {\r\n\t\t\tfor (let itemB of items) {\r\n\t\t\t\tif (item === itemB) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.isColliding && itemB.isColliding) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (BoundingBox.overlaps(item.boundingBox, itemB.boundingBox)) {\r\n\t\t\t\t\titem.isColliding = true;\r\n\t\t\t\t\titemB.isColliding = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/quad-tree/quad-tree.ts","import Node from \"./node\";\r\nimport Rectangle from \"../lib/rectangle\";\r\n\r\nexport default class BoundsNode extends Node {\r\n\tprotected classConstructor = BoundsNode;\r\n\tprivate stuckChildren = null;\r\n\tprivate out = [];\r\n\r\n\tconstructor (bounds: Rectangle, depth: number, maxDepth: number, maxChildren: number) {\r\n\t\tsuper(bounds, depth, maxDepth, maxChildren);\r\n\t\tthis.stuckChildren = [];\r\n\t}\r\n\r\n\tpublic insert(item) {\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\tlet node = this.nodes[index];\r\n\r\n\t\t\t// todo: make _bounds bounds // wut?\r\n\t\t\tif (item.position.x >= node.bounds.x &&\r\n\t\t\t\titem.position.x + item.width <= node.bounds.x + node.bounds.width &&\r\n\t\t\t\titem.position.y >= node.bounds.y &&\r\n\t\t\t\titem.position.y + item.height <= node.bounds.y + node.bounds.height) {\r\n\t\t\t\tthis.nodes[index].insert(item);\r\n\t\t\t} else {\r\n\t\t\t\tthis.stuckChildren.push(item);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.children.push(item);\r\n\t\tlet len = this.children.length;\r\n\t\tif (!(this.depth >= this.maxDepth) && len > this.maxChildren) {\r\n\t\t\tthis.subdivide();\r\n\t\t\tfor (let i = 0; i < len; i++ ) {\r\n\t\t\t\tthis.insert(this.children[i]);\r\n\t\t\t}\r\n\t\t\tthis.children.length = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getChildren() {\r\n\t\treturn this.children.concat(this.stuckChildren);\r\n\t}\r\n\r\n\tpublic retrieve(item) {\r\n\t\tlet out = this.out;\r\n\t\tout.length = 0;\r\n\t\tif (this.nodes.length) {\r\n\t\t\tlet index = this.findIndex(item);\r\n\t\t\tlet node = this.nodes[index];\r\n\t\t\tif (item.position.x >= node.bounds.x &&\r\n\t\t\t\titem.position.x + item.width <= node.bounds.x + node.bounds.width &&\r\n\t\t\t\titem.position.y >= node.bounds.y &&\r\n\t\t\t\titem.position.y + item.height <= node.bounds.y + node.bounds.height) {\r\n\t\t\t\tout.push.apply(out, this.nodes[index].retrieve(item));\r\n\t\t\t} else {\r\n\t\t\t\t// Part of the item are overlapping multiple child nodes.\r\n\t\t\t\t// For each of the overlapping nodes, return all containing objects.\r\n\t\t\t\tif (item.position.x <= this.nodes[Node.TOP_RIGHT].bounds.x) {\r\n\t\t\t\t\tif (item.position.y <= this.nodes[Node.BOTTOM_LEFT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.TOP_LEFT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.position.y + item.height > this.nodes[Node.BOTTOM_LEFT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.BOTTOM_LEFT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (item.position.x + item.width > this.nodes[Node.TOP_RIGHT].bounds.x) {\r\n\t\t\t\t\t// position + width bigger than middle x // the hell does that mean?\r\n\t\t\t\t\tif (item.position.y <= this.nodes[Node.BOTTOM_RIGHT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.TOP_RIGHT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.position.y + item.height > this.nodes[Node.BOTTOM_RIGHT].bounds.y) {\r\n\t\t\t\t\t\tout.push.apply(out, this.nodes[Node.BOTTOM_RIGHT].getAllContent());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tout.push.apply(out, this.stuckChildren);\r\n\t\tout.push.apply(out, this.children);\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic getAllContent() {\r\n\t\tlet out = this.out;\r\n\t\tif (this.nodes.length) {\r\n\t\t\tfor (let i = 0; i < this.nodes.length; i++) {\r\n\t\t\t\tthis.nodes[i].getAllContent();\r\n\t\t\t}\r\n\t\t}\r\n\t\tout.push.apply(out, this.stuckChildren);\r\n\t\tout.push.apply(out, this.children);\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic clear() {\r\n\t\tthis.stuckChildren.length = 0;\r\n\t\tthis.children.length = 0;\r\n\t\tlet len = this.nodes.length;\r\n\t\tif (!len) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (let i = 0; i < len; i++ ) {\r\n\t\t\tthis.nodes[i].clear();\r\n\t\t}\r\n\t\tthis.nodes.length = 0;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/quad-tree/bounds-node.ts"],"sourceRoot":""}